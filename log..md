2025-10-14 03:09:20 [[32MINFO[39M] Axios configured with rate limit handling (429 + Retry-After) {"metadata":{}}
[INIT] Axios configured with 429 rate limit handling
2025-10-14 03:09:20 [[32MINFO[39M] [SYSTEM] startup: [DI] Registering all services... {"metadata":{"category":"system","component":"startup"}}
2025-10-14 03:09:20 [[32MINFO[39M] [SYSTEM] startup: [DI] Registered 7 MCP stage processors {"metadata":{"category":"system","component":"startup"}}
2025-10-14 03:09:20 [[32MINFO[39M] [SYSTEM] startup: [DI] Registered 18 services {"metadata":{"category":"system","component":"startup","services":["config","logger","errorHandler","telemetry","wsManager","webIntegration","sessions","networkConfig","mcpManager","ttsSyncManager","mcpTodoManager","backendSelectionProcessor","atlasTodoPlanningProcessor","tetyanaПlanToolsProcessor","tetyanaExecuteToolsProcessor","grishaVerifyItemProcessor","atlasAdjustTodoProcessor","mcpFinalSummaryProcessor"]}}
2025-10-14 03:09:20 [[32MINFO[39M] [DI] Initializing services... {"metadata":{}}
[DI] Initializing services...
2025-10-14 03:09:20 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC] Initialized with 3-level queue system {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-14 03:09:20 [[32MINFO[39M] [SYSTEM] startup: [DI] Logger service initialized {"metadata":{"category":"system","component":"startup"}}
[DI] Initialized: logger
2025-10-14 03:09:20 [[32MINFO[39M] [SYSTEM] startup: [DI] Error handler initialized {"metadata":{"category":"system","component":"startup"}}
[DI] Initialized: errorHandler
2025-10-14 03:09:20 [[32MINFO[39M] [SYSTEM] startup: [DI] Telemetry initialized {"metadata":{"category":"system","component":"startup"}}
[DI] Initialized: telemetry
2025-10-14 03:09:20 [[32MINFO[39M] [SYSTEM] startup: [DI] WebSocket manager initialized {"metadata":{"category":"system","component":"startup"}}
[DI] Initialized: wsManager
2025-10-14 03:09:20 [[32MINFO[39M] [SYSTEM] startup: [DI] Web integration initialized {"metadata":{"category":"system","component":"startup"}}
[DI] Initialized: webIntegration
2025-10-14 03:09:20 [[32MINFO[39M] [SYSTEM] startup: [DI] Session store initialized {"metadata":{"category":"system","component":"startup"}}
[DI] Initialized: sessions
2025-10-14 03:09:20 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] Starting MCP servers... {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-14 03:09:20 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] Starting filesystem... {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-14 03:09:20 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP filesystem] Initializing... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-14 03:09:20 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] Starting playwright... {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-14 03:09:20 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP playwright] Initializing... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-14 03:09:20 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] Starting shell... {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-14 03:09:20 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP shell] Initializing... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-14 03:09:20 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] Starting applescript... {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-14 03:09:20 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP applescript] Initializing... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-14 03:09:20 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] Starting github... {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-14 03:09:20 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP github] Initializing... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-14 03:09:20 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] Starting git... {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-14 03:09:20 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP git] Initializing... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-14 03:09:20 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] Starting memory... {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-14 03:09:20 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP memory] Initializing... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-14 03:09:21 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP shell] ✅ Initialized with 0 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-14 03:09:21 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP shell] ✅ Ready {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-14 03:09:21 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] ✅ shell started (0 tools) {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-14 03:09:21 [[33MWARN[39M] mcp-server {"metadata":{}}
2025-10-14 03:09:21 [[33MWARN[39M] mcp-server {"metadata":{}}
2025-10-14 03:09:22 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP memory] ✅ Initialized with 0 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-14 03:09:22 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP memory] ✅ Ready {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-14 03:09:22 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] ✅ memory started (0 tools) {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-14 03:09:22 [[33MWARN[39M] mcp-server {"metadata":{}}
2025-10-14 03:09:22 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP filesystem] ✅ Initialized with 0 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-14 03:09:22 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP playwright] ✅ Initialized with 0 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-14 03:09:22 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP filesystem] ✅ Ready {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-14 03:09:22 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] ✅ filesystem started (0 tools) {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-14 03:09:22 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP playwright] ✅ Ready {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-14 03:09:22 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] ✅ playwright started (0 tools) {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-14 03:09:22 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP git] ✅ Initialized with 0 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-14 03:09:22 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP git] ✅ Ready {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-14 03:09:22 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] ✅ git started (0 tools) {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-14 03:09:35 [[31MERROR[39M] mcp-server {"metadata":{}}
2025-10-14 03:09:35 [[31MERROR[39M] mcp-manager {"metadata":{}}
2025-10-14 03:09:35 [[31MERROR[39M] mcp-manager {"metadata":{}}
2025-10-14 03:09:35 [[31MERROR[39M] mcp-server {"metadata":{}}
2025-10-14 03:09:35 [[31MERROR[39M] mcp-manager {"metadata":{}}
2025-10-14 03:09:35 [[31MERROR[39M] mcp-manager {"metadata":{}}
2025-10-14 03:09:35 [[33MWARN[39M] mcp-manager {"metadata":{}}
2025-10-14 03:09:35 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] ✅ 5/7 servers started {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-14 03:09:35 [[32MINFO[39M] [SYSTEM] startup: [DI] MCPManager initialized with servers {"metadata":{"category":"system","component":"startup"}}
[DI] Initialized: mcpManager
2025-10-14 03:09:35 [[32MINFO[39M] [SYSTEM] startup: [DI] TTSSyncManager initialized {"metadata":{"category":"system","component":"startup"}}
[DI] Initialized: ttsSyncManager
2025-10-14 03:09:35 [[32MINFO[39M] [SYSTEM] startup: [DI] MCPTodoManager initialized {"metadata":{"category":"system","component":"startup"}}
[DI] Initialized: mcpTodoManager
2025-10-14 03:09:35 [[32MINFO[39M] [DI] All services initialized {"metadata":{}}
[DI] All services initialized
2025-10-14 03:09:35 [[32MINFO[39M] [SYSTEM] startup: [DI] All services resolved successfully {"metadata":{"category":"system","component":"startup"}}
2025-10-14 03:09:35 [[32MINFO[39M] [SYSTEM] startup: Validating configuration... {"metadata":{"category":"system","component":"startup"}}
2025-10-14 03:09:35 [[32MINFO[39M] [SYSTEM] startup: Configuration validated successfully {"metadata":{"category":"system","component":"startup","agents":5,"stages":13,"services":6}}
2025-10-14 03:09:35 [[32MINFO[39M] [DI] Starting services... {"metadata":{}}
[DI] Starting services...
2025-10-14 03:09:35 [[32MINFO[39M] [SYSTEM] startup: [DI] WebSocket manager ready {"metadata":{"category":"system","component":"startup"}}
[DI] Started: wsManager
2025-10-14 03:09:35 [[32MINFO[39M] [DI] All services started {"metadata":{}}
[DI] All services started
2025-10-14 03:09:35 [[32MINFO[39M] [SYSTEM] startup: Application routes configured {"metadata":{"category":"system","component":"startup"}}
2025-10-14 03:09:35 [[32MINFO[39M] [SYSTEM] startup: Session cleanup timer started {"metadata":{"category":"system","component":"startup"}}
2025-10-14 03:09:35 [[32MINFO[39M] WebSocket server started on port 5102 {"metadata":{"port":5102,"heartbeatInterval":30000}}
2025-10-14 03:09:35 [[32MINFO[39M] [SYSTEM] websocket: WebSocket server running on port 5102 {"metadata":{"category":"system","component":"websocket"}}
2025-10-14 03:09:35 [[32MINFO[39M] [SYSTEM] startup: 🚀 ATLAS Orchestrator v4.0 running on port 5101 {"metadata":{"category":"system","component":"startup"}}
2025-10-14 03:09:35 [[32MINFO[39M] [SYSTEM] features: DI Container, Unified Configuration, Prompt Registry, Web Integration, Real-time Logging, 3D Model Control, TTS Visualization, Centralized State, Unified Error Handling, Agent Manager, Telemetry & Monitoring {"metadata":{"category":"system","component":"features"}}
2025-10-14 03:09:35 [[32MINFO[39M] [SYSTEM] config: Configuration loaded: 5 agents, 13 stages {"metadata":{"category":"system","component":"config"}}
2025-10-14 03:09:35 [[32MINFO[39M] [SYSTEM] startup: ✅ ATLAS Orchestrator fully initialized with DI Container {"metadata":{"category":"system","component":"startup"}}
2025-10-14 03:09:40 [[32MINFO[39M] [WORKFLOW] Stage start - system: Starting workflow for message: "Відкрий калькулятор...." {"metadata":{"category":"workflow","stage":"start","agent":"system","sessionId":"session_1760400580334_85g9g74vc","messageLength":20}}
2025-10-14 03:09:40 [[32MINFO[39M] [WORKFLOW] Stage init - system: Starting step-by-step workflow with unified configuration {"metadata":{"category":"workflow","stage":"init","agent":"system","sessionId":"session_1760400580334_85g9g74vc"}}
2025-10-14 03:09:40 [[32MINFO[39M] Workflow: Added user message to chatThread (total: 1 messages) {"metadata":{}}
2025-10-14 03:09:40 [[32MINFO[39M] [SYSTEM] debug: Available stage 0 configurations: {"metadata":{"category":"system","component":"debug","sessionId":"session_1760400580334_85g9g74vc","count":2,"stages":[{"stage":0,"agent":"system","name":"mode_selection"},{"stage":0,"agent":"atlas","name":"stage0_chat"}]}}
2025-10-14 03:09:40 [[32MINFO[39M] [SYSTEM] debug: Mode stage lookup result: {"metadata":{"category":"system","component":"debug","sessionId":"session_1760400580334_85g9g74vc","found":true,"modeStage":{"stage":0,"agent":"system","name":"mode_selection"}}}
2025-10-14 03:09:40 [[32MINFO[39M] Using SystemStageProcessor for stage 0: mode_selection {"metadata":{}}
2025-10-14 03:09:40 [[32MINFO[39M] [SYSTEM] stage: Executing system stage 0: mode_selection {"metadata":{"category":"system","component":"stage"}}
🚀 [PROMPT-REGISTRY] Starting initialization...
[PROMPTS:prompt-registry] Initializing prompt registry... 
📂 [PROMPT-REGISTRY] Loading prompts for agents: [ 'atlas', 'tetyana', 'grisha', 'system', 'voice' ]
🔍 [PROMPT-REGISTRY] Checking agent directory: /Users/dev/Documents/GitHub/atlas4/prompts/atlas
📄 [PROMPT-REGISTRY] Found 5 JS files for atlas: [
  'stage0_chat.js',
  'stage1_initial_processing.js',
  'stage3_clarification.js',
  'stage6_task_adjustment.js',
  'stage9_retry_cycle.js'
]
[PROMPTS:DEBUG] Loaded prompt: atlas:0:stage0_chat 
[PROMPTS:DEBUG] Loaded prompt: atlas:1:stage1_initial_processing 
[PROMPTS:DEBUG] Loaded prompt: atlas:3:stage3_clarification 
[PROMPTS:DEBUG] Loaded prompt: atlas:6:stage6_task_adjustment 
[PROMPTS:DEBUG] Loaded prompt: atlas:9:stage9_retry_cycle 
🔍 [PROMPT-REGISTRY] Checking agent directory: /Users/dev/Documents/GitHub/atlas4/prompts/tetyana
📄 [PROMPT-REGISTRY] Found 3 JS files for tetyana: [ 'partial_completion.js', 'stage2_execution.js', 'stage4_retry.js' ]
[PROMPTS:DEBUG] Loaded prompt: tetyana:special:partial_completion 
[PROMPTS:DEBUG] Loaded prompt: tetyana:2:stage2_execution 
[PROMPTS:DEBUG] Loaded prompt: tetyana:4:stage4_retry 
🔍 [PROMPT-REGISTRY] Checking agent directory: /Users/dev/Documents/GitHub/atlas4/prompts/grisha
📄 [PROMPT-REGISTRY] Found 2 JS files for grisha: [ 'stage5_diagnosis.js', 'stage7_verification.js' ]
[PROMPTS:DEBUG] Loaded prompt: grisha:5:stage5_diagnosis 
[PROMPTS:DEBUG] Loaded prompt: grisha:7:stage7_verification 
🔍 [PROMPT-REGISTRY] Checking agent directory: /Users/dev/Documents/GitHub/atlas4/prompts/system
📄 [PROMPT-REGISTRY] Found 10 JS files for system: [
  'agent_descriptions.js',
  'chat_summary.js',
  'chat_topic.js',
  'stage-2_post_chat_analysis.js',
  'stage-3_tts_optimization.js',
  'stage0_mode_selection.js',
  'stage8_completion.js',
  'stage_minus1_stop_router.js',
  'tts_optimization.js',
  'workflow_stages.js'
]
[PROMPTS:WARN] Failed to load prompt system:special:agent_descriptions {
  error: 'module is not defined in ES module scope\n' +
    `This file is being treated as an ES module because it has a '.js' file extension and '/Users/dev/Documents/GitHub/atlas4/prompts/package.json' contains "type": "module". To treat it as a CommonJS script, rename it to use the '.cjs' file extension.`
}
[PROMPTS:DEBUG] Loaded prompt: system:special:chat_summary 
[PROMPTS:DEBUG] Loaded prompt: system:special:chat_topic 
[PROMPTS:DEBUG] Loaded prompt: system:special:stage-2_post_chat_analysis 
[PROMPTS:DEBUG] Loaded prompt: system:special:stage-3_tts_optimization 
[PROMPTS:DEBUG] Loaded prompt: system:0:stage0_mode_selection 
[PROMPTS:DEBUG] Loaded prompt: system:8:stage8_completion 
[PROMPTS:DEBUG] Loaded prompt: system:-1:stage_minus1_stop_router 
[PROMPTS:DEBUG] Loaded prompt: system:special:tts_optimization 
[PROMPTS:WARN] Failed to load prompt system:special:workflow_stages {
  error: 'module is not defined in ES module scope\n' +
    `This file is being treated as an ES module because it has a '.js' file extension and '/Users/dev/Documents/GitHub/atlas4/prompts/package.json' contains "type": "module". To treat it as a CommonJS script, rename it to use the '.cjs' file extension.`
}
🔍 [PROMPT-REGISTRY] Checking agent directory: /Users/dev/Documents/GitHub/atlas4/prompts/voice
📄 [PROMPT-REGISTRY] Found 2 JS files for voice: [ 'activation_responses.js', 'status_messages.js' ]
[PROMPTS:WARN] Failed to load prompt voice:special:activation_responses {
  error: 'module is not defined in ES module scope\n' +
    `This file is being treated as an ES module because it has a '.js' file extension and '/Users/dev/Documents/GitHub/atlas4/prompts/package.json' contains "type": "module". To treat it as a CommonJS script, rename it to use the '.cjs' file extension.`
}
[PROMPTS:WARN] Failed to load prompt voice:special:status_messages {
  error: 'module is not defined in ES module scope\n' +
    `This file is being treated as an ES module because it has a '.js' file extension and '/Users/dev/Documents/GitHub/atlas4/prompts/package.json' contains "type": "module". To treat it as a CommonJS script, rename it to use the '.cjs' file extension.`
}
[PROMPT-DEBUG] Looking for: stage=0, agent=system, name=mode_selection
[PROMPT-DEBUG] Trying exact key: system:0:mode_selection
[PROMPT-DEBUG] Looking for: stage=0, agent=atlas, name=chat
[PROMPT-DEBUG] Trying exact key: atlas:0:chat
[PROMPT-DEBUG] Looking for: stage=1, agent=atlas, name=initial_processing
[PROMPT-DEBUG] Trying exact key: atlas:1:initial_processing
[PROMPT-DEBUG] Looking for: stage=2, agent=tetyana, name=execution
[PROMPT-DEBUG] Trying exact key: tetyana:2:execution
[PROMPT-DEBUG] Looking for: stage=3, agent=atlas, name=clarification
[PROMPT-DEBUG] Trying exact key: atlas:3:clarification
[PROMPT-DEBUG] Looking for: stage=4, agent=tetyana, name=retry
[PROMPT-DEBUG] Trying exact key: tetyana:4:retry
[PROMPT-DEBUG] Looking for: stage=5, agent=grisha, name=diagnosis
[PROMPT-DEBUG] Trying exact key: grisha:5:diagnosis
[PROMPT-DEBUG] Looking for: stage=7, agent=grisha, name=verification
[PROMPT-DEBUG] Trying exact key: grisha:7:verification
[PROMPTS:INFO] Prompt registry validation passed 
✅ [PROMPT-REGISTRY] Initialized successfully in 12ms
📋 [PROMPT-REGISTRY] Loaded 18 prompts, cache: 0
[PROMPTS:prompt-registry] Initialized successfully in 12ms { promptsLoaded: 18, cachePrepared: 0 }
[PROMPT-DEBUG] Looking for: stage=0, agent=system, name=mode_selection
[PROMPT-DEBUG] Trying exact key: system:0:mode_selection
2025-10-14 03:09:40 [[32MINFO[39M] [SYSTEM] debug: Mode selection prompts: {"metadata":{"category":"system","component":"debug","sessionId":"session_1760400580334_85g9g74vc","systemPromptLength":830,"systemPromptPreview":"You are a binary classifier. Output ONLY JSON.\n\nRULE:\n- task (confidence ≥ 0.8) = Requires system action via Goose (open app, create file, execute command)\n- chat (confidence ≥ 0.8) = Atlas can respon","userPromptPreview":"\"Відкрий калькулятор.\""}}
2025-10-14 03:09:40 [[32MINFO[39M] Mode selection: included 1 history messages for context-aware classification {"metadata":{}}
2025-10-14 03:09:40 [[32MINFO[39M] [SYSTEM] debug: Mode selection actual message: {"metadata":{"category":"system","component":"debug","sessionId":"session_1760400580334_85g9g74vc","actualMessage":"Відкрий калькулятор.","contextMessageFromPrompt":"\"Відкрий калькулятор.\""}}
2025-10-14 03:09:40 [[32MINFO[39M] [SYSTEM] ai: Calling system API with context for: mode_selection {"metadata":{"category":"system","component":"ai","sessionId":"session_1760400580334_85g9g74vc","messageCount":3,"model":"openai/gpt-4o-mini","temperature":0.1}}
2025-10-14 03:09:40 [[32MINFO[39M] [SYSTEM] debug: Mode selection messages: {"metadata":{"category":"system","component":"debug","sessionId":"session_1760400580334_85g9g74vc","messages":"[\n  {\n    \"role\": \"system\",\n    \"content\": \"You are a binary classifier. Output ONLY JSON.\\n\\nRULE:\\n- task (confidence ≥ 0.8) = Requires system action via Goose (open app, create file, execute command)\\n- chat (confidence ≥ 0.8) = Atlas can respond directly (conversation, explanation, calculation)\\n\\nCRITICAL PATTERNS:\\n✅ task: \\\"Open\\\", \\\"Launch\\\", \\\"Create\\\", \\\"Save\\\", \\\"Run\\\", \\\"Install\\\", \\\"Відкрий\\\", \\\"Запусти\\\", \\\"Створи\\\"\\n✅ chat: \\\"Tell\\\", \\\"Explain\\\", \\\"What\\\", \\\"How\\\", \\\"Why\\\", \\\"Р..."}}
2025-10-14 03:09:40 [[32MINFO[39M] [SYSTEM] debug: User message for classification: {"metadata":{"category":"system","component":"debug","sessionId":"session_1760400580334_85g9g74vc","userMessage":"Відкрий калькулятор."}}
2025-10-14 03:09:41 [[32MINFO[39M] [SYSTEM] ai: System API response received for mode_selection {"metadata":{"category":"system","component":"ai","sessionId":"session_1760400580334_85g9g74vc","hasResponse":true,"hasContent":true,"contentLength":35,"content":"{\"mode\": \"task\", \"confidence\": 0.9}"}}
2025-10-14 03:09:41 [[32MINFO[39M] Mode selection: task {"metadata":{"sessionId":"session_1760400580334_85g9g74vc"}}
2025-10-14 03:09:41 [[32MINFO[39M] Task mode selected, proceeding to backend selection {"metadata":{"sessionId":"session_1760400580334_85g9g74vc"}}
2025-10-14 03:09:41 [[32MINFO[39M] [WORKFLOW] Stage stage - system: Stage 0.5: Backend Selection {"metadata":{"category":"workflow","stage":"stage","agent":"system","sessionId":"session_1760400580334_85g9g74vc"}}
2025-10-14 03:09:41 [[32MINFO[39M] [SYSTEM] backend-selection: [STAGE-0.5] Starting backend selection... {"metadata":{"category":"system","component":"backend-selection"}}
2025-10-14 03:09:41 [[32MINFO[39M] [SYSTEM] backend-selection: [STAGE-0.5] ENV AI_BACKEND_MODE: mcp {"metadata":{"category":"system","component":"backend-selection"}}
2025-10-14 03:09:41 [[32MINFO[39M] [SYSTEM] backend-selection: [STAGE-0.5] Config mode: mcp {"metadata":{"category":"system","component":"backend-selection"}}
2025-10-14 03:09:41 [[32MINFO[39M] [SYSTEM] backend-selection: [STAGE-0.5] Final configured mode: mcp {"metadata":{"category":"system","component":"backend-selection"}}
2025-10-14 03:09:41 [[32MINFO[39M] [SYSTEM] backend-selection: [STAGE-0.5] Mode=mcp → Routing to MCP Direct {"metadata":{"category":"system","component":"backend-selection"}}
2025-10-14 03:09:41 [[32MINFO[39M] [SYSTEM] backend-selection: [STAGE-0.5] ✅ Selected backend: mcp {"metadata":{"category":"system","component":"backend-selection"}}
2025-10-14 03:09:41 [[32MINFO[39M] [SYSTEM] backend-selection: [STAGE-0.5] Reasoning: Request pattern suggests concrete file/browser/system operations → MCP Direct {"metadata":{"category":"system","component":"backend-selection"}}
2025-10-14 03:09:41 [[32MINFO[39M] Backend selected: mcp {"metadata":{"sessionId":"session_1760400580334_85g9g74vc","reasoning":"undefined"}}
2025-10-14 03:09:41 [[32MINFO[39M] Routing to MCP Dynamic TODO Workflow {"metadata":{"sessionId":"session_1760400580334_85g9g74vc"}}
2025-10-14 03:09:41 [[32MINFO[39M] [WORKFLOW] Stage init - mcp: Starting MCP Dynamic TODO Workflow {"metadata":{"category":"workflow","stage":"init","agent":"mcp","sessionId":"session_1760400580334_85g9g74vc","userMessage":"Відкрий калькулятор."}}
2025-10-14 03:09:41 [[32MINFO[39M] [WORKFLOW] Stage stage - atlas: Stage 1-MCP: TODO Planning {"metadata":{"category":"workflow","stage":"stage","agent":"atlas","sessionId":"session_1760400580334_85g9g74vc"}}
2025-10-14 03:09:41 [[32MINFO[39M] [SYSTEM] atlas-todo-planning: [STAGE-1-MCP] 🎯 Starting TODO planning... {"metadata":{"category":"system","component":"atlas-todo-planning"}}
2025-10-14 03:09:41 [[32MINFO[39M] [SYSTEM] atlas-todo-planning: [STAGE-1-MCP] Request: "Відкрий калькулятор." {"metadata":{"category":"system","component":"atlas-todo-planning"}}
2025-10-14 03:09:41 [[32MINFO[39M] [SYSTEM] atlas-todo-planning: [STAGE-1-MCP] Context: {"request":"Відкрий калькулятор.","timestamp":"2025-10-14T00:09:41.573Z","sessionId":"session_1760400580334_85g9g74vc","recentContext":[{"role":"user","content":"Відкрий калькулятор."}]} {"metadata":{"category":"system","component":"atlas-todo-planning"}}
2025-10-14 03:09:41 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Creating TODO for request: "Відкрий калькулятор." {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-14 03:09:42 [[33MWARN[39M] mcp-server {"metadata":{}}
2025-10-14 03:09:43 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Created standard TODO with 1 items (complexity: 2/10) {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-14 03:09:43 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC] 📝 Queued [detailed] "План створено, 1 пункт, починаю виконання" (priority: 10, duration: 2500ms, queue: 1) {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-14 03:09:43 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC] 🔊 Started queue processing {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-14 03:09:43 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC] 🗣️ Speaking [detailed]: "План створено, 1 пункт, починаю виконання" {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-14 03:09:43 [[31MERROR[39M] tts-sync {"metadata":{}}
2025-10-14 03:09:43 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC] ⏸️ Queue processing completed {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-14 03:09:43 [[33MWARN[39M] mcp-todo {"metadata":{}}
2025-10-14 03:09:43 [[32MINFO[39M] [SYSTEM] atlas-todo-planning: [STAGE-1-MCP] ✅ TODO created: todo_1760400583716_3tzecbbp3 {"metadata":{"category":"system","component":"atlas-todo-planning"}}
2025-10-14 03:09:43 [[32MINFO[39M] [SYSTEM] atlas-todo-planning: [STAGE-1-MCP]    Mode: standard {"metadata":{"category":"system","component":"atlas-todo-planning"}}
2025-10-14 03:09:43 [[32MINFO[39M] [SYSTEM] atlas-todo-planning: [STAGE-1-MCP]    Complexity: 2/10 {"metadata":{"category":"system","component":"atlas-todo-planning"}}
2025-10-14 03:09:43 [[32MINFO[39M] [SYSTEM] atlas-todo-planning: [STAGE-1-MCP]    Items: 1 {"metadata":{"category":"system","component":"atlas-todo-planning"}}
2025-10-14 03:09:43 [[32MINFO[39M] [SYSTEM] atlas-todo-planning: [STAGE-1-MCP]      1. Відкрити калькулятор {"metadata":{"category":"system","component":"atlas-todo-planning"}}
2025-10-14 03:09:43 [[32MINFO[39M] [SYSTEM] atlas-todo-planning: [STAGE-1-MCP] ✅ Planning complete {"metadata":{"category":"system","component":"atlas-todo-planning"}}
2025-10-14 03:09:43 [[32MINFO[39M] TODO created with 1 items {"metadata":{"sessionId":"session_1760400580334_85g9g74vc","mode":"standard","items":[{"id":1,"action":"Відкрити калькулятор","max_attempts":3}]}}
2025-10-14 03:09:43 [[32MINFO[39M] Processing TODO item 1/1: Відкрити калькулятор {"metadata":{"sessionId":"session_1760400580334_85g9g74vc","itemId":1}}
2025-10-14 03:09:43 [[32MINFO[39M] Item 1: Attempt 1/3 {"metadata":{"sessionId":"session_1760400580334_85g9g74vc"}}
2025-10-14 03:09:43 [[32MINFO[39M] [WORKFLOW] Stage stage - tetyana: Stage 2.1-MCP: Planning tools for item 1 {"metadata":{"category":"workflow","stage":"stage","agent":"tetyana","sessionId":"session_1760400580334_85g9g74vc"}}
2025-10-14 03:09:43 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] 🛠️ Planning tool selection... {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-14 03:09:43 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] Item: 1. Відкрити калькулятор {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-14 03:09:43 [[33MWARN[39M] tetyana-plan-tools {"metadata":{}}
2025-10-14 03:09:43 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] Available MCP servers: filesystem, filesystem, filesystem, filesystem, filesystem, filesystem, playwright, playwright, playwright, playwright, playwright, playwright, playwright, computercontroller, computercontroller, computercontroller, computercontroller, computercontroller {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-14 03:09:43 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] Calling mcpTodoManager.planTools()... {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-14 03:09:43 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planning tools for item 1 {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-14 03:09:43 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Calling LLM API at http://localhost:4000/v1/chat/completions... {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-14 03:09:45 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] LLM API responded successfully {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-14 03:09:45 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Raw LLM response (first 200 chars): {
  "tool_calls": [],
  "reasoning": "Немає доступних MCP інструментів для відкриття калькулятора."
} {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-14 03:09:45 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Full LLM response: {
  "tool_calls": [],
  "reasoning": "Немає доступних MCP інструментів для відкриття калькулятора."
} {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-14 03:09:45 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Parsed plan: {
  "tool_calls": [],
  "reasoning": "Немає доступних MCP інструментів для відкриття калькулятора."
} {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-14 03:09:45 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planned 0 tool calls for item 1 {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-14 03:09:45 [[33MWARN[39M] mcp-todo {"metadata":{}}
2025-10-14 03:09:45 [[31MERROR[39M] mcp-todo {"metadata":{}}
2025-10-14 03:09:45 [[31MERROR[39M] mcp-todo {"metadata":{}}
2025-10-14 03:09:45 [[31MERROR[39M] tetyana-plan-tools {"metadata":{}}
2025-10-14 03:09:45 [[31MERROR[39M] tetyana-plan-tools {"metadata":{}}
2025-10-14 03:09:45 [[33MWARN[39M] Tool planning failed for item 1: Tool planning failed: No tool calls generated - plan is empty {"metadata":{"sessionId":"session_1760400580334_85g9g74vc"}}
2025-10-14 03:09:45 [[32MINFO[39M] Item 1: Attempt 2/3 {"metadata":{"sessionId":"session_1760400580334_85g9g74vc"}}
2025-10-14 03:09:45 [[32MINFO[39M] Retry backoff: waiting 1000ms before attempt 2 {"metadata":{"sessionId":"session_1760400580334_85g9g74vc","itemId":1}}
2025-10-14 03:09:46 [[32MINFO[39M] [WORKFLOW] Stage stage - tetyana: Stage 2.1-MCP: Planning tools for item 1 {"metadata":{"category":"workflow","stage":"stage","agent":"tetyana","sessionId":"session_1760400580334_85g9g74vc"}}
2025-10-14 03:09:46 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] 🛠️ Planning tool selection... {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-14 03:09:46 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] Item: 1. Відкрити калькулятор {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-14 03:09:46 [[33MWARN[39M] tetyana-plan-tools {"metadata":{}}
2025-10-14 03:09:46 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] Available MCP servers: filesystem, filesystem, filesystem, filesystem, filesystem, filesystem, playwright, playwright, playwright, playwright, playwright, playwright, playwright, computercontroller, computercontroller, computercontroller, computercontroller, computercontroller {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-14 03:09:46 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] Calling mcpTodoManager.planTools()... {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-14 03:09:46 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planning tools for item 1 {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-14 03:09:46 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Calling LLM API at http://localhost:4000/v1/chat/completions... {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-14 03:09:47 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] LLM API responded successfully {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-14 03:09:47 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Raw LLM response (first 200 chars): {
  "tool_calls": [],
  "reasoning": "Немає доступних MCP інструментів для відкриття калькулятора."
} {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-14 03:09:47 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Full LLM response: {
  "tool_calls": [],
  "reasoning": "Немає доступних MCP інструментів для відкриття калькулятора."
} {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-14 03:09:47 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Parsed plan: {
  "tool_calls": [],
  "reasoning": "Немає доступних MCP інструментів для відкриття калькулятора."
} {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-14 03:09:47 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planned 0 tool calls for item 1 {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-14 03:09:47 [[33MWARN[39M] mcp-todo {"metadata":{}}
2025-10-14 03:09:47 [[31MERROR[39M] mcp-todo {"metadata":{}}
2025-10-14 03:09:47 [[31MERROR[39M] mcp-todo {"metadata":{}}
2025-10-14 03:09:47 [[31MERROR[39M] tetyana-plan-tools {"metadata":{}}
2025-10-14 03:09:47 [[31MERROR[39M] tetyana-plan-tools {"metadata":{}}
2025-10-14 03:09:47 [[33MWARN[39M] Tool planning failed for item 1: Tool planning failed: No tool calls generated - plan is empty {"metadata":{"sessionId":"session_1760400580334_85g9g74vc"}}
2025-10-14 03:09:47 [[32MINFO[39M] Item 1: Attempt 3/3 {"metadata":{"sessionId":"session_1760400580334_85g9g74vc"}}
2025-10-14 03:09:47 [[32MINFO[39M] Retry backoff: waiting 2000ms before attempt 3 {"metadata":{"sessionId":"session_1760400580334_85g9g74vc","itemId":1}}
2025-10-14 03:09:49 [[32MINFO[39M] [WORKFLOW] Stage stage - tetyana: Stage 2.1-MCP: Planning tools for item 1 {"metadata":{"category":"workflow","stage":"stage","agent":"tetyana","sessionId":"session_1760400580334_85g9g74vc"}}
2025-10-14 03:09:49 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] 🛠️ Planning tool selection... {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-14 03:09:49 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] Item: 1. Відкрити калькулятор {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-14 03:09:49 [[33MWARN[39M] tetyana-plan-tools {"metadata":{}}
2025-10-14 03:09:49 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] Available MCP servers: filesystem, filesystem, filesystem, filesystem, filesystem, filesystem, playwright, playwright, playwright, playwright, playwright, playwright, playwright, computercontroller, computercontroller, computercontroller, computercontroller, computercontroller {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-14 03:09:49 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] Calling mcpTodoManager.planTools()... {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-14 03:09:49 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planning tools for item 1 {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-14 03:09:49 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Calling LLM API at http://localhost:4000/v1/chat/completions... {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-14 03:09:50 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] LLM API responded successfully {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-14 03:09:50 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Raw LLM response (first 200 chars): {
  "tool_calls": [],
  "reasoning": "Немає доступних MCP інструментів для відкриття калькулятора."
} {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-14 03:09:50 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Full LLM response: {
  "tool_calls": [],
  "reasoning": "Немає доступних MCP інструментів для відкриття калькулятора."
} {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-14 03:09:50 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Parsed plan: {
  "tool_calls": [],
  "reasoning": "Немає доступних MCP інструментів для відкриття калькулятора."
} {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-14 03:09:50 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planned 0 tool calls for item 1 {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-14 03:09:50 [[33MWARN[39M] mcp-todo {"metadata":{}}
2025-10-14 03:09:50 [[31MERROR[39M] mcp-todo {"metadata":{}}
2025-10-14 03:09:50 [[31MERROR[39M] mcp-todo {"metadata":{}}
2025-10-14 03:09:50 [[31MERROR[39M] tetyana-plan-tools {"metadata":{}}
2025-10-14 03:09:50 [[31MERROR[39M] tetyana-plan-tools {"metadata":{}}
2025-10-14 03:09:50 [[33MWARN[39M] Tool planning failed for item 1: Tool planning failed: No tool calls generated - plan is empty {"metadata":{"sessionId":"session_1760400580334_85g9g74vc"}}
2025-10-14 03:09:50 [[33MWARN[39M] Item 1 failed after 3 attempts {"metadata":{"sessionId":"session_1760400580334_85g9g74vc"}}
2025-10-14 03:09:50 [[32MINFO[39M] [WORKFLOW] Stage stage - system: Stage 8-MCP: Generating final summary {"metadata":{"category":"workflow","stage":"stage","agent":"system","sessionId":"session_1760400580334_85g9g74vc"}}
2025-10-14 03:09:50 [[32MINFO[39M] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] 📊 Generating final summary... {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-14 03:09:50 [[32MINFO[39M] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] TODO: todo_1760400583716_3tzecbbp3 {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-14 03:09:50 [[32MINFO[39M] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] Mode: standard {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-14 03:09:50 [[32MINFO[39M] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] Items: 1 {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-14 03:09:50 [[32MINFO[39M] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] Success rate: 0% {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-14 03:09:50 [[32MINFO[39M] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] Completed: 0 {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-14 03:09:50 [[32MINFO[39M] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] Failed: 1 {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-14 03:09:50 [[32MINFO[39M] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] Skipped: 0 {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-14 03:09:50 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Generating summary for TODO todo_1760400583716_3tzecbbp3 {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-14 03:09:50 [[31MERROR[39M] mcp-final-summary {"metadata":{}}
2025-10-14 03:09:50 [[31MERROR[39M] mcp-final-summary {"metadata":{}}
2025-10-14 03:09:50 [[32MINFO[39M] [WORKFLOW] Stage complete - mcp: MCP workflow completed {"metadata":{"category":"workflow","stage":"complete","agent":"mcp","sessionId":"session_1760400580334_85g9g74vc","duration":9053,"metrics":"undefined"}}
2025-10-14 03:09:50 [[32MINFO[39M] [HTTP] POST /chat/stream 200 (10273ms) {"metadata":{"category":"http","method":"POST","url":"/chat/stream","status":200,"duration":10273,"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Ap..."}}
2025-10-14 03:10:20 [[32MINFO[39M] Метрики збережено: /Users/dev/Documents/GitHub/atlas4/logs/metrics/metrics-2025-10-14T00-10-20-924Z.json (3 записів) {"metadata":{}}
відкриття калькулятора."
} {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-14 03:09:50 [INFO] [SYSTEM] mcp-todo: [TODO] Full LLM response: {
  "tool_calls": [],
  "reasoning": "Немає доступних MCP інструментів для відкриття калькулятора."
} {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-14 03:09:50 [INFO] [SYSTEM] mcp-todo: [TODO] Parsed plan: {
  "tool_calls": [],
  "reasoning": "Немає доступних MCP інструментів для відкриття калькулятора."
} {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-14 03:09:50 [INFO] [SYSTEM] mcp-todo: [TODO] Planned 0 tool calls for item 1 {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-14 03:09:50 [WARN] mcp-todo {"metadata":{}}
2025-10-14 03:09:50 [ERROR] mcp-todo {"metadata":{}}
2025-10-14 03:09:50 [ERROR] mcp-todo {"metadata":{}}
2025-10-14 03:09:50 [ERROR] tetyana-plan-tools {"metadata":{}}
2025-10-14 03:09:50 [ERROR] tetyana-plan-tools {"metadata":{}}
2025-10-14 03:09:50 [WARN] Tool planning failed for item 1: Tool planning failed: No tool calls generated - plan is empty {"metadata":{"sessionId":"session_1760400580334_85g9g74vc"}}
2025-10-14 03:09:50 [WARN] Item 1 failed after 3 attempts {"metadata":{"sessionId":"session_1760400580334_85g9g74vc"}}
2025-10-14 03:09:50 [INFO] [WORKFLOW] Stage stage - system: Stage 8-MCP: Generating final summary {"metadata":{"category":"workflow","stage":"stage","agent":"system","sessionId":"session_1760400580334_85g9g74vc"}}
2025-10-14 03:09:50 [INFO] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] 📊 Generating final summary... {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-14 03:09:50 [INFO] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] TODO: todo_1760400583716_3tzecbbp3 {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-14 03:09:50 [INFO] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] Mode: standard {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-14 03:09:50 [INFO] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] Items: 1 {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-14 03:09:50 [INFO] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] Success rate: 0% {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-14 03:09:50 [INFO] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] Completed: 0 {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-14 03:09:50 [INFO] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] Failed: 1 {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-14 03:09:50 [INFO] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] Skipped: 0 {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-14 03:09:50 [INFO] [SYSTEM] mcp-todo: [TODO] Generating summary for TODO todo_1760400583716_3tzecbbp3 {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-14 03:09:50 [ERROR] mcp-final-summary {"metadata":{}}
2025-10-14 03:09:50 [ERROR] mcp-final-summary {"metadata":{}}
2025-10-14 03:09:50 [INFO] [WORKFLOW] Stage complete - mcp: MCP workflow completed {"metadata":{"category":"workflow","stage":"complete","agent":"mcp","sessionId":"session_1760400580334_85g9g74vc","duration":9053,"metrics":"undefined"}}
2025-10-14 03:09:50 [INFO] [HTTP] POST /chat/stream 200 (10273ms) {"metadata":{"category":"http","method":"POST","url":"/chat/stream","status":200,"duration":10273,"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Ap..."}}
2025-10-14 03:10:20 [INFO] Метрики збережено: /Users/dev/Documents/GitHub/atlas4/logs/metrics/metrics-2025-10-14T00-10-20-924Z.json (3 записів) {"metadata":{}}
