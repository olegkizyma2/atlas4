# üöÄ ATLAS App Modules v4.0

**–î–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è:** 2025-01-09  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û  
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –ú–æ–¥—É–ª—å–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –≥–æ–ª–æ–≤–Ω–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É ATLAS

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—ñ–≤

```
app/modules/
‚îú‚îÄ‚îÄ app-manager.js          # –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü—ñ—è –º–µ–Ω–µ–¥–∂–µ—Ä—ñ–≤
‚îú‚îÄ‚îÄ event-coordinator.js    # –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è —Ç–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü—ñ—è –ø–æ–¥—ñ–π
‚îú‚îÄ‚îÄ ui-manager.js          # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–æ–≥–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
‚îú‚îÄ‚îÄ global-handlers.js     # –û–±—Ä–æ–±–∫–∞ –≥–ª–æ–±–∞–ª—å–Ω–∏—Ö –ø–æ–¥—ñ–π —Ç–∞ –ø–æ–º–∏–ª–æ–∫
‚îî‚îÄ‚îÄ README.md             # –¶—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
```

## üéØ –ü—Ä–∏–Ω—Ü–∏–ø–∏ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏

### ‚úÖ Single Responsibility Principle
–ö–æ–∂–µ–Ω –º–æ–¥—É–ª—å –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ –æ–¥–Ω—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É –æ–±–ª–∞—Å—Ç—å:
- **AppManager**: —Ç—ñ–ª—å–∫–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –º–µ–Ω–µ–¥–∂–µ—Ä—ñ–≤
- **EventCoordinator**: —Ç—ñ–ª—å–∫–∏ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –ø–æ–¥—ñ–π
- **UIManager**: —Ç—ñ–ª—å–∫–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è UI
- **GlobalHandlers**: —Ç—ñ–ª—å–∫–∏ –≥–ª–æ–±–∞–ª—å–Ω—ñ –æ–±—Ä–æ–±–Ω–∏–∫–∏

### ‚úÖ Dependency Injection
–ú–æ–¥—É–ª—ñ –æ—Ç—Ä–∏–º—É—é—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä:
```javascript
const eventCoordinator = new EventCoordinator(managers);
const uiManager = new UIManager(managers);
```

### ‚úÖ –ú–æ–¥—É–ª—å–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞
–ö–æ–∂–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è –Ω–µ–∑–∞–ª–µ–∂–Ω–æ —Ç–∞ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏—Å—è –æ–∫—Ä–µ–º–æ.

---

## üìã –î–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å –º–æ–¥—É–ª—ñ–≤

### 1. üèóÔ∏è AppManager (`app-manager.js`)

**–†–æ–∑–º—ñ—Ä:** ~200 —Ä—è–¥–∫—ñ–≤ (–±—É–ª–æ 1007)  
**–í—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å:** –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –≤—Å—ñ—Ö –º–µ–Ω–µ–¥–∂–µ—Ä—ñ–≤ —Å–∏—Å—Ç–µ–º–∏

**–ö–ª—é—á–æ–≤—ñ –º–µ—Ç–æ–¥–∏:**
- `initializeManagers()` - –≥–æ–ª–æ–≤–Ω–∏–π –º–µ—Ç–æ–¥ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó
- `initializeLoggingSystem()` - –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ª–æ–≥—É–≤–∞–Ω–Ω—è
- `initialize3DSystem()` - —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è GLB —Å–∏—Å—Ç–µ–º–∏
- `initializeTTSVisualization()` - –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è TTS
- `initializeAdvancedUI()` - —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è UI
- `initializeChatManager()` - –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —á–∞—Ç—É
- `initializeVoiceControl()` - –≥–æ–ª–æ—Å–æ–≤–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è
- `initializeWebSocket()` - WebSocket –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è

**–ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:**
```javascript
import { ChatManager } from '../modules/chat-manager.js';
import { initializeAtlasVoice } from '../voice-control/atlas-voice-integration.js';
import { ConversationModeManager } from '../voice-control/conversation-mode-manager.js';
import { AtlasAdvancedUI } from '../components/ui/atlas-advanced-ui.js';
// —Ç–∞ —ñ–Ω—à—ñ...
```

---

### 2. üîÑ EventCoordinator (`event-coordinator.js`)

**–†–æ–∑–º—ñ—Ä:** ~220 —Ä—è–¥–∫—ñ–≤ (–±—É–ª–æ —á–∞—Å—Ç–∏–Ω–∞ –∑ 1007)  
**–í—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å:** –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü—ñ—è –ø–æ–¥—ñ–π –º—ñ–∂ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

**–ö–ª—é—á–æ–≤—ñ –º–µ—Ç–æ–¥–∏:**
- `integrateAllComponents()` - –≥–æ–ª–æ–≤–Ω–∏–π –º–µ—Ç–æ–¥ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó
- `integrateChatSystem()` - —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è —á–∞—Ç—É –∑ TTS/3D
- `integrateVoiceControl()` - —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è
- `integrateConversationMode()` - —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è —Ä–µ–∂–∏–º—ñ–≤ —Ä–æ–∑–º–æ–≤–∏
- `integrateAdvancedUI()` - —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è —Ä–æ–∑—à–∏—Ä–µ–Ω–æ–≥–æ UI

**–û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ:**
- –£–ø—Ä–∞–≤–ª—è—î –ø—ñ–¥–ø–∏—Å–∫–∞–º–∏ –Ω–∞ –ø–æ–¥—ñ—ó
- –ö–æ–æ—Ä–¥–∏–Ω—É—î –≤–∑–∞—î–º–æ–¥—ñ—é –º—ñ–∂ –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º–∏
- –ó–∞–±–µ–∑–ø–µ—á—É—î —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—é —Å—Ç–∞–Ω—É –º—ñ–∂ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

---

### 3. üé® UIManager (`ui-manager.js`)

**–†–æ–∑–º—ñ—Ä:** ~150 —Ä—è–¥–∫—ñ–≤ (–±—É–ª–æ —á–∞—Å—Ç–∏–Ω–∞ –∑ 1007)  
**–í—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å:** –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–æ–≥–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É

**–ö–ª—é—á–æ–≤—ñ –º–µ—Ç–æ–¥–∏:**
- `setupUI()` - –≥–æ–ª–æ–≤–Ω–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è UI
- `setupTabs()` - –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–∞–±—ñ–≤
- `setupTTSControls()` - –∫–æ–Ω—Ç—Ä–æ–ª–∏ TTS
- `setupKeyboardShortcuts()` - –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–Ω—ñ —Å–∫–æ—Ä–æ—á–µ–Ω–Ω—è
- `showNotification()` - –ø–æ–∫–∞–∑ —Å–ø–æ–≤—ñ—â–µ–Ω—å
- `switchTab()` - –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è —Ç–∞–±—ñ–≤

**UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:**
- –¢–∞–±–∏ (—á–∞—Ç/–ª–æ–≥–∏)
- TTS –∫–æ–Ω—Ç—Ä–æ–ª–∏
- Keyboard shortcuts
- Toast notifications

---

### 4. üõ°Ô∏è GlobalHandlers (`global-handlers.js`)

**–†–æ–∑–º—ñ—Ä:** ~80 —Ä—è–¥–∫—ñ–≤ (–±—É–ª–æ —á–∞—Å—Ç–∏–Ω–∞ –∑ 1007)  
**–í—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å:** –û–±—Ä–æ–±–∫–∞ –≥–ª–æ–±–∞–ª—å–Ω–∏—Ö –ø–æ–¥—ñ–π —Ç–∞ –ø–æ–º–∏–ª–æ–∫

**–ö–ª—é—á–æ–≤—ñ –º–µ—Ç–æ–¥–∏:**
- `setupGlobalHandlers()` - –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤
- `setupUnloadProtection()` - –∑–∞—Ö–∏—Å—Ç –≤—ñ–¥ –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—å
- `setupErrorHandlers()` - –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫
- `setupConnectionHandlers()` - –æ–±—Ä–æ–±–∫–∞ –∑'—î–¥–Ω–∞–Ω–Ω—è

**–û–±—Ä–æ–±–ª—è—î:**
- `beforeunload` - –∑–∞—Ö–∏—Å—Ç –ø—Ä–∏ —Å—Ç—Ä—ñ–º—ñ–Ω–≥—É
- `error` - –≥–ª–æ–±–∞–ª—å–Ω—ñ –ø–æ–º–∏–ª–∫–∏ JavaScript
- `unhandledrejection` - –Ω–µ–æ–±—Ä–æ–±–ª–µ–Ω—ñ Promise –ø–æ–º–∏–ª–∫–∏
- `online/offline` - —Å—Ç–∞–Ω –∑'—î–¥–Ω–∞–Ω–Ω—è

---

## üîß –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –ë–∞–∑–æ–≤–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:
```javascript
import AtlasApp from './app-refactored-v4.js';

// –î–æ–¥–∞—Ç–æ–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î—Ç—å—Å—è
// –î–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ window.atlasApp
```

### –†—É—á–Ω–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è:
```javascript
const atlasApp = new AtlasApp();
await atlasApp.init();
```

### –î–æ—Å—Ç—É–ø –¥–æ –º–µ–Ω–µ–¥–∂–µ—Ä—ñ–≤:
```javascript
// –ß–µ—Ä–µ–∑ –≥–æ–ª–æ–≤–Ω–∏–π –¥–æ–¥–∞—Ç–æ–∫
atlasApp.managers.chat.sendMessage('Hello');

// –ß–µ—Ä–µ–∑ –≥–ª–æ–±–∞–ª—å–Ω—ñ –æ–±'—î–∫—Ç–∏ (–∑–≤–æ—Ä–æ—Ç–Ω–∞ —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å)
window.atlasChat.sendMessage('Hello');
window.atlasLogger.info('Message');
```

### API –º–µ—Ç–æ–¥–∏:
```javascript
// –ß–∞—Ç
atlasApp.sendMessage('Hello');
atlasApp.clearChat();

// –ê—Ç–ª–∞—Å –∂–∏–≤–∞ —Å–∏—Å—Ç–µ–º–∞
atlasApp.setAtlasEmotion('happy', 0.8, 2000);
atlasApp.atlasReactToEvent('user-message');
atlasApp.atlasStartSpeaking('atlas', 0.9);

// UI
atlasApp.switchTab('logs');
atlasApp.showNotification('Success!', 'success');
atlasApp.showErrorMessage('Error occurred');
```

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü—ñ—Å–ª—è | –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è |
|---------|----|----|------------|
| **–†–æ–∑–º—ñ—Ä –≥–æ–ª–æ–≤–Ω–æ–≥–æ —Ñ–∞–π–ª—É** | 1007 —Ä—è–¥–∫—ñ–≤ | 150 —Ä—è–¥–∫—ñ–≤ | **-85%** |
| **–ö—ñ–ª—å–∫—ñ—Å—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç–µ–π** | 8+ | 1 | **-87%** |
| **–ú–æ–¥—É–ª—ñ–≤ —Å—Ç–≤–æ—Ä–µ–Ω–æ** | 0 | 4 | **+4** |
| **–ß–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å** | –°–∫–ª–∞–¥–Ω–æ | –õ–µ–≥–∫–æ | ‚úÖ |
| **–¢–µ—Å—Ç–æ–≤–∞–Ω—ñ—Å—Ç—å** | –í–∞–∂–∫–æ | –õ–µ–≥–∫–æ | ‚úÖ |
| **–ü–æ–≤—Ç–æ—Ä–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è** | –ù—ñ | –¢–∞–∫ | ‚úÖ |

## üéâ –ü–µ—Ä–µ–≤–∞–≥–∏ –Ω–æ–≤–æ—ó –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏

### ‚úÖ –ú–æ–¥—É–ª—å–Ω—ñ—Å—Ç—å
- –ö–æ–∂–µ–Ω –º–æ–¥—É–ª—å –º–æ–∂–Ω–∞ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –æ–∫—Ä–µ–º–æ
- –õ–µ–≥–∫–æ –∑–∞–º—ñ–Ω–∏—Ç–∏ –∞–±–æ –æ–Ω–æ–≤–∏—Ç–∏ –æ–¥–∏–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- –ß—ñ—Ç–∫–µ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç–µ–π

### ‚úÖ –ß–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å
- –ö–æ–¥ —Ä–æ–∑–¥—ñ–ª–µ–Ω–∏–π –Ω–∞ –ª–æ–≥—ñ—á–Ω—ñ –±–ª–æ–∫–∏
- –ó—Ä–æ–∑—É–º—ñ–ª—ñ –Ω–∞–∑–≤–∏ –º–µ—Ç–æ–¥—ñ–≤ —Ç–∞ –∫–ª–∞—Å—ñ–≤
- –•–æ—Ä–æ—à–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

### ‚úÖ –ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å
- –õ–µ–≥–∫–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
- –ü—Ä–æ—Å—Ç—ñ—à–µ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –∫–æ–¥
- –ú–µ–Ω—à–∏–π —Ä–∏–∑–∏–∫ —Ä–µ–≥—Ä–µ—Å—ñ–π

### ‚úÖ –¢–µ—Å—Ç–æ–≤–∞–Ω—ñ—Å—Ç—å
- –ù–µ–≤–µ–ª–∏–∫—ñ –º–æ–¥—É–ª—ñ –ª–µ–≥—à–µ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏
- –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –º–æ–∂–Ω–∞ –º–æ–∫–∞—Ç–∏
- Unit —Ç–µ—Å—Ç–∏ —Å—Ç–∞—é—Ç—å –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—à–∏–º–∏

---

## üöÄ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

1. **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è** - —Å—Ç–≤–æ—Ä–∏—Ç–∏ unit —Ç–µ—Å—Ç–∏ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –º–æ–¥—É–ª—è
2. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è API** - –¥–µ—Ç–∞–ª—å–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –º–µ—Ç–æ–¥—ñ–≤
3. **–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Å—Ç–∏** - –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–∑–∞—î–º–æ–¥—ñ—ó –º–æ–¥—É–ª—ñ–≤
4. **Performance –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥** - –≤–∏–º—ñ—Ä—é–≤–∞–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ

---

**–ê–≤—Ç–æ—Ä:** GitHub Copilot  
**–î–∞—Ç–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:** 2025-01-09  
**–í–µ—Ä—Å—ñ—è:** 4.0.0