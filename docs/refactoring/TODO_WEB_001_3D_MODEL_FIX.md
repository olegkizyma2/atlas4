# TODO-WEB-001: 3D Model Z-Index Fix - –ó–í–Ü–¢ –ü–†–û –í–ò–ü–†–ê–í–õ–ï–ù–ù–Ø

**–î–∞—Ç–∞:** 11 –∂–æ–≤—Ç–Ω—è 2025, ~21:30  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–ò–ü–†–ê–í–õ–ï–ù–û  
**–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–∏–π  
**–ß–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è:** ~5 —Ö–≤–∏–ª–∏–Ω  

---

## üìã –û–ø–∏—Å –ü—Ä–æ–±–ª–µ–º–∏

### –°–∏–º–ø—Ç–æ–º
3D GLB –º–æ–¥–µ–ª—å —à–æ–ª–æ–º–∞ **—Ö–æ–≤–∞—î—Ç—å—Å—è –∑–≤–µ—Ä—Ö—É** - –ù–ï –≤–∏–¥–∏–º–∞ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, –æ—Å–∫—ñ–ª—å–∫–∏ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –ó–ê —ñ–Ω—à–∏–º–∏ –µ–ª–µ–º–µ–Ω—Ç–∞–º–∏ UI.

### –ö–æ—Ä—ñ–Ω—å –ø—Ä–æ–±–ª–µ–º–∏
–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π z-index —Å—Ç–µ–∫—ñ–Ω–≥:
- **model-container**: z-index: **5** ‚ùå
- **model-viewer**: z-index: **5** ‚ùå
- **logs-panel**: z-index: **10** ‚úÖ
- **chat-panel**: z-index: **10** ‚úÖ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ú–æ–¥–µ–ª—å (5) < –õ–æ–≥–∏ (10), –º–æ–¥–µ–ª—å —Ö–æ–≤–∞—î—Ç—å—Å—è –ó–ê –ª–æ–≥–∞–º–∏ —Ç–∞ —á–∞—Ç–æ–º!

### –û—á—ñ–∫—É–≤–∞–Ω–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞
–ú–æ–¥–µ–ª—å –º–∞—î –±—É—Ç–∏ **—Ñ–æ–Ω–æ–º** - –≤–∏–¥–∏–º–æ—é, –∞–ª–µ –ó–ê —Ç–µ–∫—Å—Ç–æ–≤–∏–º–∏ –µ–ª–µ–º–µ–Ω—Ç–∞–º–∏:
- **model**: z-index: **0** (–Ω–∞–π–Ω–∏–∂—á–∏–π - —Ñ–æ–Ω)
- **logs**: z-index: **10** (–∑–≤–µ—Ä—Ö—É –º–æ–¥–µ–ª—ñ)
- **chat**: z-index: **10** (–∑–≤–µ—Ä—Ö—É –º–æ–¥–µ–ª—ñ)

---

## ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

### –§–∞–π–ª: `web/static/css/main.css`

**–ó–º—ñ–Ω–µ–Ω–æ 2 –º—ñ—Å—Ü—è:**

#### 1. .model-container
```css
/* ‚ùå –î–û */
.model-container {
    z-index: 5;
}

/* ‚úÖ –ü–Ü–°–õ–Ø */
.model-container {
    z-index: 0; /* ‚úÖ FIXED: –ú–æ–¥–µ–ª—å - —Ñ–æ–Ω (0 < logs:10 < chat:10) */
}
```

#### 2. model-viewer
```css
/* ‚ùå –î–û */
model-viewer {
    z-index: 5;
}

/* ‚úÖ –ü–Ü–°–õ–Ø */
model-viewer {
    z-index: 0; /* ‚úÖ FIXED: –ú–æ–¥–µ–ª—å - —Ñ–æ–Ω */
}
```

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### Z-Index Stacking Order (–ü–†–ê–í–ò–õ–¨–ù–ò–ô):
```
–§–æ–Ω (0) ‚Üí –ú–æ–¥–µ–ª—å (0) ‚Üí –õ–æ–≥–∏ (10) ‚Üí –ß–∞—Ç (10) ‚Üí –ú–æ–¥–∞–ª–∏ (1000+)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
     BACKGROUND            CONTENT                UI LAYERS
```

### –í—ñ–∑—É–∞–ª—å–Ω–∏–π –ï—Ñ–µ–∫—Ç:
- ‚úÖ –ú–æ–¥–µ–ª—å **–í–ò–î–ò–ú–ê** —è–∫ –∂–∏–≤–∏–π —Ñ–æ–Ω
- ‚úÖ –õ–æ–≥–∏ —Ç–∞ —á–∞—Ç **–ó–í–ï–†–•–£** –º–æ–¥–µ–ª—ñ (—á–∏—Ç–∞–±–µ–ª—å–Ω—ñ)
- ‚úÖ –ú–æ–¥–µ–ª—å **–ù–ï –ë–õ–û–ö–£–Ñ** –≤–∑–∞—î–º–æ–¥—ñ—é –∑ UI
- ‚úÖ –í—Å—ñ –∞–Ω—ñ–º–∞—Ü—ñ—ó –º–æ–¥–µ–ª—ñ –ø—Ä–∞—Ü—é—é—Ç—å
- ‚úÖ Breathing, eye tracking, emotions - –∑–±–µ—Ä–µ–∂–µ–Ω—ñ

---

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### Manual Testing Checklist:
- [ ] –í—ñ–¥–∫—Ä–∏—Ç–∏ http://localhost:5001
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –º–æ–¥–µ–ª—å **–í–ò–î–ò–ú–ê** –Ω–∞ —Ñ–æ–Ω—ñ
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –ª–æ–≥–∏ **–ó–í–ï–†–•–£** –º–æ–¥–µ–ª—ñ
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ —á–∞—Ç **–ó–í–ï–†–•–£** –º–æ–¥–µ–ª—ñ
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –º–æ–¥–µ–ª—å **–î–ò–•–ê–Ñ** (breathing animation)
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –æ—á—ñ **–°–õ–Ü–î–£–Æ–¢–¨** –∑–∞ –º–∏—à–µ—é
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –µ–º–æ—Ü—ñ—ó **–ü–†–ê–¶–Æ–Æ–¢–¨** (speaking, listening, thinking)
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –º–æ–∂–Ω–∞ **–ö–õ–Ü–ö–ê–¢–ò** –Ω–∞ –ª–æ–≥–∏/—á–∞—Ç

### Expected Results:
‚úÖ –ú–æ–¥–µ–ª—å - —è—Å–∫—Ä–∞–≤–∏–π –∂–∏–≤–∏–π —Ñ–æ–Ω  
‚úÖ –¢–µ–∫—Å—Ç –ª–æ–≥—ñ–≤/—á–∞—Ç—É - —á—ñ—Ç–∫–∏–π —Ç–∞ —á–∏—Ç–∞–±–µ–ª—å–Ω–∏–π  
‚úÖ –ù–µ–º–∞—î –≤—ñ–∑—É–∞–ª—å–Ω–∏—Ö –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤  
‚úÖ –í—Å—ñ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ –ø—Ä–∞—Ü—é—é—Ç—å  

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –û–Ω–æ–≤–ª–µ–Ω–∞

### –§–∞–π–ª–∏:
1. ‚úÖ `web/static/css/main.css` - –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ z-index
2. ‚úÖ `docs/refactoring/TODO_WEB_001_3D_MODEL_FIX.md` - —Ü–µ–π –∑–≤—ñ—Ç
3. ‚è≥ `.github/copilot-instructions.md` - –æ–Ω–æ–≤–∏—Ç–∏ —Å–µ–∫—Ü—ñ—é "3D Model Visibility"

### –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ —Ñ—ñ–∫—Å–∏:
- `docs/3D_VISIBILITY_SAFARI_FIX_FINAL.md` - Safari webkit-backdrop-filter fix
- `docs/3D_AND_VOICE_REFACTORING_2025-10-11.md` - Eye tracking, idle behavior

---

## üé® –ó–±–µ—Ä–µ–∂–µ–Ω–∏–π –í—ñ–∑—É–∞–ª—å–Ω–∏–π –î–∏–∑–∞–π–Ω

### –ù–ï –∑–º—ñ–Ω–µ–Ω–æ:
- ‚úÖ Opacity –º–æ–¥–µ–ª—ñ: **0.95** (–¥—É–∂–µ —è—Å–∫—Ä–∞–≤–∞)
- ‚úÖ Brightness: **1.4** (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ —è—Å–∫—Ä–∞–≤—ñ—Å—Ç—å)
- ‚úÖ Glow effect: **80px** (–≤–µ–ª–∏–∫–∏–π glow)
- ‚úÖ –í—Å—ñ —Å—Ç–∞–Ω–∏ –º–æ–¥–µ–ª—ñ: speaking, listening, thinking, focused
- ‚úÖ –í—Å—ñ –∞–Ω—ñ–º–∞—Ü—ñ—ó: pulse-glow, thinking-pulse
- ‚úÖ Opacity –ª–æ–≥—ñ–≤: **0.15-0.30** (–¥—É–∂–µ –ø—Ä–æ–∑–æ—Ä—ñ –¥–ª—è –≤–∏–¥–∏–º–æ—Å—Ç—ñ –º–æ–¥–µ–ª—ñ)

### –ó–º—ñ–Ω–µ–Ω–æ –¢–Ü–õ–¨–ö–ò:
- ‚úÖ Z-index: 5 ‚Üí 0 (—Å—Ç–µ–∫—ñ–Ω–≥ –ø–æ—Ä—è–¥–æ–∫)

---

## ‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –ú–∞–π–±—É—Ç–Ω—å–æ–≥–æ

### –ü—Ä–∞–≤–∏–ª–æ Z-Index Stacking:
```css
/* –ó–ê–í–ñ–î–ò –¥–æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏—Å—å —Ü—å–æ–≥–æ –ø–æ—Ä—è–¥–∫—É: */
.model-container { z-index: 0; }    /* –§–æ–Ω */
.logs-panel { z-index: 10; }        /* –ö–æ–Ω—Ç–µ–Ω—Ç */
.chat-panel { z-index: 10; }        /* –ö–æ–Ω—Ç–µ–Ω—Ç */
.modals { z-index: 1000+; }         /* UI overlays */
```

### –ù–ï –†–û–ë–ò–¢–ò:
‚ùå –ù–ï –∑–º—ñ–Ω—é–≤–∞—Ç–∏ z-index –º–æ–¥–µ–ª—ñ > 0  
‚ùå –ù–ï –∑–º–µ–Ω—à—É–≤–∞—Ç–∏ opacity –º–æ–¥–µ–ª—ñ < 0.95  
‚ùå –ù–ï –∑–º–µ–Ω—à—É–≤–∞—Ç–∏ brightness < 1.4  
‚ùå –ù–ï –∑–º—ñ–Ω—é–≤–∞—Ç–∏ z-index –ª–æ–≥—ñ–≤/—á–∞—Ç—É < 10  

### –ß–æ–º—É —Ü–µ –≤–∞–∂–ª–∏–≤–æ:
- –ú–æ–¥–µ–ª—å –º–∞—î –±—É—Ç–∏ **–ó–ê–í–ñ–î–ò —Ñ–æ–Ω–æ–º** –¥–ª—è —á–∏—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ
- –¢–µ–∫—Å—Ç –º–∞—î –±—É—Ç–∏ **–ó–ê–í–ñ–î–ò –∑–≤–µ—Ä—Ö—É** –¥–ª—è –≤–∑–∞—î–º–æ–¥—ñ—ó
- Safari –ø–æ—Ç—Ä–µ–±—É—î `-webkit-backdrop-filter` –¥–ª—è blur –µ—Ñ–µ–∫—Ç—ñ–≤

---

## üöÄ –ù–∞—Å—Ç—É–ø–Ω—ñ –ö—Ä–æ–∫–∏

### –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ —Ñ—ñ–∫—Å—É:
1. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –≤—ñ–∑—É–∞–ª—å–Ω—É –≤–∏–¥–∏–º—ñ—Å—Ç—å
2. ‚è≥ –ü—Ä–∏—Å—Ç—É–ø–∏—Ç–∏ –¥–æ TODO-WEB-001 –æ—Å–Ω–æ–≤–Ω–æ—ó —á–∞—Å—Ç–∏–Ω–∏
3. ‚è≥ –ö–æ–Ω—Å–æ–ª—ñ–¥–∞—Ü—ñ—è voice-control —Å–∏—Å—Ç–µ–º–∏ (40+ —Ñ–∞–π–ª—ñ–≤)

### TODO-WEB-001 –ü–ª–∞–Ω:
- –í–∏–ø—Ä–∞–≤–∏—Ç–∏ 3D –º–æ–¥–µ–ª—å ‚úÖ DONE
- –ö–æ–Ω—Å–æ–ª—ñ–¥—É–≤–∞—Ç–∏ voice-control (40+ —Ñ–∞–π–ª—ñ–≤ ‚Üí –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
- –ó–±–µ—Ä–µ–≥—Ç–∏ –≤—Å—ñ —Ñ—ñ—á—ñ —Ç–∞ –≤—ñ–∑—É–∞–ª—å–Ω–∏–π –¥–∏–∑–∞–π–Ω
- –ü–æ–∫—Ä–∞—â–∏—Ç–∏ maintainability

---

**–°—Ç–≤–æ—Ä–µ–Ω–æ:** 11 –∂–æ–≤—Ç–Ω—è 2025, ~21:30  
**–ê–≤—Ç–æ—Ä:** GitHub Copilot  
**–í–µ—Ä—Å—ñ—è:** 1.0.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–û–¢–û–í–û –î–û –¢–ï–°–¢–£–í–ê–ù–ù–Ø
