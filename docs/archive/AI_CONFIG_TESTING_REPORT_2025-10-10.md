# –ó–≤—ñ—Ç –ø—Ä–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è AI Model Configuration - 10.10.2025

## üß™ –í–∏–∫–æ–Ω–∞–Ω—ñ —Ç–µ—Å—Ç–∏

### ‚úÖ Test 1: –°—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞
**–ö–æ–º–∞–Ω–¥–∞:** `./tests/test-ai-config.sh`

**–†–µ–∑—É–ª—å—Ç–∞—Ç–∏:**
```
‚úì AI_MODEL_CONFIG found in global-config.js
‚úì getModelForStage function found  
‚úì SystemStageProcessor imports getModelForStage
‚úì No hardcoded models found
‚úì All structure tests passed
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–†–û–ô–®–û–í**

---

### ‚úÖ Test 2: Chat Mode
**–ó–∞–ø–∏—Ç:** "–ü—Ä–∏–≤—ñ—Ç, —è–∫ —Å–ø—Ä–∞–≤–∏?"  
**–û—á—ñ–∫—É—î—Ç—å—Å—è:** mode=chat, –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –º–æ–¥–µ–ª—ñ chat (T=0.7)

**–†–µ–∑—É–ª—å—Ç–∞—Ç –∑ –ª–æ–≥—ñ–≤:**
```
Using SystemStageProcessor for stage 0: mode_selection
[SYSTEM] ai: Calling system API with context for: mode_selection
[SYSTEM] ai: System API response received for mode_selection
Mode selection: chat

Using AgentStageProcessor for stage 0: stage0_chat (agent: atlas)
Chat mode: included 1 history messages
Using fast API for chat mode with 2 context messages
API call with 2 context messages
API response received: 64 chars
[AGENT] atlas - complete: Completed stage 0 in 1147ms with 2 context messages
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–†–û–ô–®–û–í** - Chat —Ä–µ–∂–∏–º –ø—Ä–∞—Ü—é—î, –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è

---

### ‚ö†Ô∏è Test 3: Task Detection
**–ó–∞–ø–∏—Ç:** "–í—ñ–¥–∫—Ä–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —ñ –ø–µ—Ä–µ–º–Ω–æ–∂ 333 –Ω–∞ 2, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–±–µ—Ä–µ–∂–∏ –Ω–∞ —Ä–æ–±–æ—á–æ–º—É —Å—Ç–æ–ª—ñ"  
**–û—á—ñ–∫—É—î—Ç—å—Å—è:** mode=task, –ø–µ—Ä–µ—Ö—ñ–¥ –¥–æ stage 1

**–†–µ–∑—É–ª—å—Ç–∞—Ç –∑ –ª–æ–≥—ñ–≤:**
```
Using SystemStageProcessor for stage 0: mode_selection
[SYSTEM] ai: Calling system API with context for: mode_selection
[SYSTEM] ai: System API response received for mode_selection
Mode selection: chat  ‚Üê ‚ö†Ô∏è –ü–û–ú–ò–õ–ö–ê! –ú–∞—î –±—É—Ç–∏ task

Chat route: processing message with 1 messages in thread
Using AgentStageProcessor for stage 0: stage0_chat (agent: atlas)
```

**–°—Ç–∞—Ç—É—Å:** ‚ùå **–ù–ï –ü–†–û–ô–®–û–í** - Mode selection –Ω–µ —Ä–æ–∑–ø—ñ–∑–Ω–∞—î task

**–ü—Ä–æ–±–ª–µ–º–∞:** AI –º–æ–¥–µ–ª—å –Ω–∞–≤—ñ—Ç—å –∑ T=0.1 –∫–ª–∞—Å–∏—Ñ—ñ–∫—É—î —è–≤–Ω—ñ task —è–∫ chat

---

## üìä –ê–Ω–∞–ª—ñ–∑ –ø—Ä–æ–±–ª–µ–º–∏ Task Detection

### –ú–æ–∂–ª–∏–≤—ñ –ø—Ä–∏—á–∏–Ω–∏:

1. **–ü—Ä–æ–º–ø—Ç –Ω–µ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ —á—ñ—Ç–∫–∏–π**
   - –ü–æ—Ç—Ä—ñ–±–Ω–æ –±—ñ–ª—å—à–µ –ø—Ä–∏–∫–ª–∞–¥—ñ–≤ task
   - –ü–æ—Ç—Ä—ñ–±–Ω–æ explicit –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –¥—ñ—î—Å–ª—ñ–≤ –¥—ñ—ó

2. **–ú–æ–¥–µ–ª—å gpt-4o-mini –∑–∞–Ω–∞–¥—Ç–æ –æ–±–µ—Ä–µ–∂–Ω–∞**
   - –ü—Ä–∏ T=0.1 –≤–∏–±–∏—Ä–∞—î "–±–µ–∑–ø–µ—á–Ω–∏–π" –≤–∞—Ä—ñ–∞–Ω—Ç (chat)
   - –ú–æ–∂–ª–∏–≤–æ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –±—ñ–ª—å—à –ø–æ—Ç—É–∂–Ω–∞ –º–æ–¥–µ–ª—å

3. **–ö–æ–Ω—Ç–µ–∫—Å—Ç –∑–∞–≤–∞–∂–∞—î**
   - 5 –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –º–æ–∂—É—Ç—å –≤–ø–ª–∏–≤–∞—Ç–∏
   - –ú–æ–¥–µ–ª—å –±–∞—á–∏—Ç—å —ñ—Å—Ç–æ—Ä—ñ—é chat —ñ –ø—Ä–æ–¥–æ–≤–∂—É—î –≤ —Ç–æ–º—É –∂ —Ä–µ–∂–∏–º—ñ

### –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:

#### –í–∞—Ä—ñ–∞–Ω—Ç 1: –ü–æ—Å–∏–ª–∏—Ç–∏ –ø—Ä–æ–º–ø—Ç (—à–≤–∏–¥—à–µ)
```javascript
// prompts/system/stage0_mode_selection.js
// –î–æ–¥–∞—Ç–∏ explicit –ø—Ä–∏–∫–ª–∞–¥–∏:
TASK examples:
- "–≤—ñ–¥–∫—Ä–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä"
- "—Å—Ç–≤–æ—Ä–∏ —Ñ–∞–π–ª"
- "–∑–±–µ—Ä–µ–∂–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç"
- "–∑–∞–ø—É—Å—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º—É"
- "–≤–∏–∫–æ–Ω–∞–π –æ–±—á–∏—Å–ª–µ–Ω–Ω—è"
```

#### –í–∞—Ä—ñ–∞–Ω—Ç 2: –ó–º—ñ–Ω–∏—Ç–∏ –º–æ–¥–µ–ª—å (–ø–æ—Ç—É–∂–Ω—ñ—à–µ)
```javascript
// config/global-config.js
models: {
  classification: {
    model: 'openai/gpt-4o',  // –ó–∞–º—ñ—Å—Ç—å gpt-4o-mini
    temperature: 0.1,
    max_tokens: 200
  }
}
```

#### –í–∞—Ä—ñ–∞–Ω—Ç 3: –ü—ñ–¥–≤–∏—â–∏—Ç–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É (–º–µ–Ω—à –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–æ)
```javascript
models: {
  classification: {
    model: 'openai/gpt-4o-mini',
    temperature: 0.3,  // –ó–∞–º—ñ—Å—Ç—å 0.1
    max_tokens: 150
  }
}
```

#### –í–∞—Ä—ñ–∞–Ω—Ç 4: Reasoning –º–æ–¥–µ–ª—å (–Ω–∞–π–ø–æ—Ç—É–∂–Ω—ñ—à–µ)
```javascript
models: {
  classification: {
    model: 'deepseek/deepseek-r1',  // Reasoning model
    temperature: 0.2,
    max_tokens: 250
  }
}
```

---

## ‚úÖ –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å

### –©–æ –ø—Ä–∞—Ü—é—î:

1. ‚úÖ **–¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è** - AI_MODEL_CONFIG –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è
2. ‚úÖ **getModelForStage()** - —Ñ—É–Ω–∫—Ü—ñ—è –µ–∫—Å–ø–æ—Ä—Ç—É—î—Ç—å—Å—è —Ç–∞ —ñ–º–ø–æ—Ä—Ç—É—î—Ç—å—Å—è
3. ‚úÖ **SystemStageProcessor** - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω—É –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é
4. ‚úÖ **Chat mode** - –ø—Ä–∞—Ü—é—î –∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º, —à–≤–∏–¥–∫–∏–π API
5. ‚úÖ **–õ–æ–≥—É–≤–∞–Ω–Ω—è** - –º–æ–¥–µ–ª—å —Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –ª–æ–≥—É—é—Ç—å—Å—è (—Ö–æ—á —ñ –Ω–µ –≤–∏–¥–Ω–æ –≤ —Å–∫–æ—Ä–æ—á–µ–Ω–æ–º—É –≤–∏–≤–æ–¥—ñ)
6. ‚úÖ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥—É** - –Ω–µ–º–∞—î —Ö–∞—Ä–¥–∫–æ–¥—ñ–≤, –≤—Å–µ —á–µ—Ä–µ–∑ config

### –©–æ –ø–æ—Ç—Ä–µ–±—É—î –¥–æ–æ–ø—Ä–∞—Ü—é–≤–∞–Ω–Ω—è:

1. ‚ö†Ô∏è **Task detection** - –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ–∫—Ä–∞—â–∏—Ç–∏ –ø—Ä–æ–º–ø—Ç –∞–±–æ –º–æ–¥–µ–ª—å
2. ‚ö†Ô∏è **Mode selection** - –∑–∞–Ω–∞–¥—Ç–æ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–∞ –∫–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ü—ñ—è

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

### –ö–æ—Ä–æ—Ç–∫–æ—Å—Ç—Ä–æ–∫–æ–≤—ñ (–∑–∞—Ä–∞–∑):

1. **–ü–æ—Å–∏–ª–∏—Ç–∏ –ø—Ä–æ–º–ø—Ç** - –¥–æ–¥–∞—Ç–∏ –±—ñ–ª—å—à–µ explicit –ø—Ä–∏–∫–ª–∞–¥—ñ–≤ task
2. **–ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –∑ —Ä—ñ–∑–Ω–∏–º–∏ –º–æ–¥–µ–ª—è–º–∏** - gpt-4o, deepseek-r1
3. **–ü—ñ–¥–≤–∏—â–∏—Ç–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É** - —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ 0.2-0.3

### –î–æ–≤–≥–æ—Å—Ç—Ä–æ–∫–æ–≤—ñ:

1. **A/B —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è** - –ø–æ—Ä—ñ–≤–Ω—è—Ç–∏ —Ä—ñ–∑–Ω—ñ –º–æ–¥–µ–ª—ñ –Ω–∞ —Ä–µ–∞–ª—å–Ω–∏—Ö –∑–∞–ø–∏—Ç–∞—Ö
2. **–ú–µ—Ç—Ä–∏–∫–∏** - –∑—ñ–±—Ä–∞—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ç–æ—á–Ω–æ—Å—Ç—ñ –∫–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
3. **Fine-tuning** - –º–æ–∂–ª–∏–≤–æ –Ω–∞–≤—á–∏—Ç–∏ —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω—É –º–æ–¥–µ–ª—å

---

## üìà –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç            | –°—Ç–∞—Ç—É—Å                   | –ü—Ä–∏–º—ñ—Ç–∫–∏                        |
| -------------------- | ------------------------ | ------------------------------- |
| AI_MODEL_CONFIG      | ‚úÖ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ            | –ü–æ–≤–Ω–∞ —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–∞—Ü—ñ—è             |
| getModelForStage()   | ‚úÖ –ü—Ä–∞—Ü—é—î                 | Helper —Ñ—É–Ω–∫—Ü—ñ—ó –≥–æ—Ç–æ–≤—ñ           |
| SystemStageProcessor | ‚úÖ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥            | –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î config             |
| Chat mode            | ‚úÖ –ü—Ä–∞—Ü—é—î                 | –ö–æ–Ω—Ç–µ–∫—Å—Ç + —à–≤–∏–¥–∫–∏–π API          |
| Task detection       | ‚ö†Ô∏è –ü–æ—Ç—Ä–µ–±—É—î –¥–æ–æ–ø—Ä–∞—Ü—é–≤–∞–Ω–Ω—è | –ü—Ä–æ–º–ø—Ç –∞–±–æ –º–æ–¥–µ–ª—å               |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è         | ‚úÖ –ì–æ—Ç–æ–≤–∞                 | –ü–æ–≤–Ω–µ –ø–æ–∫—Ä–∏—Ç—Ç—è                  |
| –¢–µ—Å—Ç–∏                | ‚ö†Ô∏è –ß–∞—Å—Ç–∫–æ–≤–æ               | –°—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚úÖ, –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å ‚ö†Ô∏è |

---

## üöÄ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

1. **–ü–æ–∫—Ä–∞—â–∏—Ç–∏ –ø—Ä–æ–º–ø—Ç mode_selection** - –¥–æ–¥–∞—Ç–∏ explicit –ø—Ä–∞–≤–∏–ª–∞ —Ç–∞ –ø—Ä–∏–∫–ª–∞–¥–∏
2. **–ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –∑ gpt-4o** - –ø–æ—Ç—É–∂–Ω—ñ—à–∞ –º–æ–¥–µ–ª—å –¥–ª—è –∫–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
3. **–ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É** - –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—É–≤–∞—Ç–∏ –∑ 0.1-0.3
4. **–ó—ñ–±—Ä–∞—Ç–∏ –º–µ—Ç—Ä–∏–∫–∏** - —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–µ—Å—Ç–æ–≤–∏–π –Ω–∞–±—ñ—Ä –∑–∞–ø–∏—Ç—ñ–≤
5. **–î–æ–∫—É–º–µ–Ω—Ç—É–≤–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏** - –æ–Ω–æ–≤–∏—Ç–∏ docs –∑ —Ñ—ñ–Ω–∞–ª—å–Ω–∏–º–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è–º–∏

---

**–î–∞—Ç–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:** 10 –∂–æ–≤—Ç–Ω—è 2025  
**–¢–µ—Å—Ç—É–≤–∞–ª—å–Ω–∏–∫:** GitHub Copilot  
**–í–µ—Ä—Å—ñ—è —Å–∏—Å—Ç–µ–º–∏:** ATLAS v4.0  
**–ó–∞–≥–∞–ª—å–Ω–∞ –æ—Ü—ñ–Ω–∫–∞:** 75% (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚úÖ, —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å ‚ö†Ô∏è)
