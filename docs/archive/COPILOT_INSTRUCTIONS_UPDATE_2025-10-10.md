# –û–Ω–æ–≤–ª–µ–Ω–Ω—è Copilot Instructions - 10 –∂–æ–≤—Ç–Ω—è 2025

## üìù –ó–º—ñ–Ω–∏ –≤ `.github/copilot-instructions.md`

### –ú–µ—Ç–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
–ê–∫—Ç—É–∞–ª—ñ–∑–∞—Ü—ñ—è —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π –¥–ª—è GitHub Copilot –∑ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é –ø—Ä–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É —Ç–∞ –ø–∞–º'—è—Ç—ñ.

---

## ‚úÖ –î–æ–¥–∞–Ω–æ/–û–Ω–æ–≤–ª–µ–Ω–æ —Å–µ–∫—Ü—ñ—ó:

### 1. –ó–∞–≥–æ–ª–æ–≤–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞
```markdown
**LAST UPDATED:** 10 –∂–æ–≤—Ç–Ω—è 2025 - Context & Memory System FIXED
```

### 2. Context-Aware Conversations
**–ë—É–ª–æ:**
```markdown
### Context-Aware Conversations
- Chat mode: –ó–±–µ—Ä—ñ–≥–∞—î –¥–æ 10 –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —ñ—Å—Ç–æ—Ä—ñ—ó —Ä–æ–∑–º–æ–≤–∏
```

**–°—Ç–∞–ª–æ:**
```markdown
### ‚úÖ Context-Aware Conversations (FIXED 10.10.2025)
- **Chat mode:** –ó–±–µ—Ä—ñ–≥–∞—î –¥–æ 10 –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —ñ—Å—Ç–æ—Ä—ñ—ó —Ä–æ–∑–º–æ–≤–∏ - –ü–†–ê–¶–Æ–Ñ!
- –ú–µ—Ç–æ–¥ buildContextMessages() –ê–í–¢–û–ú–ê–¢–ò–ß–ù–û –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è
- stage0_chat —Ç–µ–ø–µ—Ä –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î AgentStageProcessor –∑–∞–º—ñ—Å—Ç—å SystemStageProcessor
- –®–≤–∏–¥–∫–∏–π API (port 4000) –¥–ª—è chat mode
```

### 3. Context System Architecture
–î–æ–¥–∞–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–∏–π –∫–æ–¥-–ø—Ä–∏–∫–ª–∞–¥ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—ó –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—ó:
```javascript
// –ü–†–ê–í–ò–õ–¨–ù–ê –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—è (–≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ 10.10.2025):
executeConfiguredStage(stageConfig, ...) {
  const isSystemStage = stageConfig.agent === 'system';
  // ... –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—è –∑–∞ —Ç–∏–ø–æ–º –∞–≥–µ–Ω—Ç–∞
}
```

### 4. Agent System Architecture
**–ë—É–ª–æ:**
```markdown
**CONTEXT AWARE:** –°–∏—Å—Ç–µ–º–∞ —Ç—Ä–∏–º–∞—î —ñ—Å—Ç–æ—Ä—ñ—é —Ä–æ–∑–º–æ–≤–∏
```

**–°—Ç–∞–ª–æ:**
```markdown
**CONTEXT AWARE (FIXED 10.10.2025):** –°–∏—Å—Ç–µ–º–∞ —Ç—Ä–∏–º–∞—î —ñ—Å—Ç–æ—Ä—ñ—é —Ä–æ–∑–º–æ–≤–∏
- Chat mode (stage 0): –æ—Å—Ç–∞–Ω–Ω—ñ 10 –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å - –ü–†–ê–¶–Æ–Ñ —á–µ—Ä–µ–∑ AgentStageProcessor
- stage0_chat –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —à–≤–∏–¥–∫–∏–π API (port 4000)
```

### 5. Debug Context Issues
**–ë—É–ª–æ:**
```markdown
**Debug Context Issues:**
1. Check session.history in logs
2. Verify buildContextMessages() is called
```

**–°—Ç–∞–ª–æ:**
```markdown
**Debug Context Issues (UPDATED 10.10.2025):**
1. Check session.chatThread in logs: grep "chat mode.*included"
2. Verify buildContextMessages() is called
3. Monitor API calls
4. Ensure no fallback calls
5. Test context: ./tests/test-context.sh
```

### 6. Context & Memory Issues
**–ë—É–ª–æ:**
```markdown
### Context & Memory Issues
- Atlas –Ω–µ –ø–∞–º'—è—Ç–∞—î –∫–æ–Ω—Ç–µ–∫—Å—Ç: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ session.chatThread
```

**–°—Ç–∞–ª–æ:**
```markdown
### Context & Memory Issues (FIXED 10.10.2025)
- ‚úÖ –í–ò–ü–†–ê–í–õ–ï–ù–û: Atlas —Ç–µ–ø–µ—Ä –ø–∞–º'—è—Ç–∞—î –∫–æ–Ω—Ç–µ–∫—Å—Ç
- ‚úÖ –í–ò–ü–†–ê–í–õ–ï–ù–û: –ù–µ–º–∞—î –ø–æ–≤—Ç–æ—Ä–µ–Ω–Ω—è –ø—Ä–∏–≤—ñ—Ç–∞–Ω—å
- ‚úÖ –í–ò–ü–†–ê–í–õ–ï–ù–û: buildContextMessages() –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
- –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞: grep "chat mode.*included" logs/orchestrator.log
```

### 7. Documentation Structure
–î–æ–¥–∞–Ω–æ –Ω–æ–≤—ñ –¥–æ–∫—É–º–µ–Ω—Ç–∏:
```markdown
- docs/CONTEXT_FIX_SUMMARY.md (10.10.2025)
- docs/CONTEXT_SYSTEM_FIX_REPORT.md (10.10.2025)
- docs/COMPLETE_FIX_REPORT_2025-10-10.md
```

### 8. Context System Validation
**–ë—É–ª–æ:**
```markdown
tail -50 logs/orchestrator.log | grep "context.*messages"
```

**–°—Ç–∞–ª–æ:**
```markdown
# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Ç–µ—Å—Ç
./tests/test-context.sh

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è
tail -50 logs/orchestrator.log | grep "chat mode.*included"

# –ü–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—å —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è AgentStageProcessor
grep "Using AgentStageProcessor.*stage0_chat" logs/orchestrator.log
```

### 9. –ù–û–í–ê –°–ï–ö–¶–Ü–Ø: Context & Memory Test
```markdown
### Context & Memory Test (NEW 10.10.2025)
```bash
./tests/test-context.sh

# –û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
# 1. "–ü—Ä–∏–≤—ñ—Ç" ‚Üí –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è
# 2. "–†–æ–∑–∫–∞–∂–∏ –∞–Ω–µ–∫–¥–æ—Ç" ‚Üí –æ—Ç—Ä–∏–º–∞—Ç–∏ –∞–Ω–µ–∫–¥–æ—Ç (–ù–ï –ø—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è!)
# 3. "–ü—Ä–æ —â–æ –º–∏ –≥–æ–≤–æ—Ä–∏–ª–∏?" ‚Üí –∑–≥–∞–¥–∫–∞ –ø—Ä–æ –∞–Ω–µ–∫–¥–æ—Ç
```

### 10. –ù–û–í–ê –°–ï–ö–¶–Ü–Ø: –ö—Ä–∏—Ç–∏—á–Ω—ñ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è
```markdown
## üìã –ö—Ä–∏—Ç–∏—á–Ω—ñ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è (10.10.2025)

### –ü—Ä–æ–±–ª–µ–º–∞ —â–æ –±—É–ª–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–∞:
- –°–∏—Å—Ç–µ–º–∞ –Ω–µ —Ç—Ä–∏–º–∞–ª–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ä–æ–∑–º–æ–≤–∏

### –ö–æ—Ä—ñ–Ω—å –ø—Ä–æ–±–ª–µ–º–∏:
- stage0_chat –æ–±—Ä–æ–±–ª—è–≤—Å—è —á–µ—Ä–µ–∑ SystemStageProcessor

### –í–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ —Ñ–∞–π–ª–∏:
1. orchestrator/workflow/executor-v3.js
2. orchestrator/workflow/stages/system-stage-processor.js
3. orchestrator/workflow/stages/agent-stage-processor.js
4. prompts/atlas/stage0_chat.js

### –†–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ç—Ä–∏–º–∞—î –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–æ 10 –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- ‚úÖ buildContextMessages() –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
- ‚úÖ –®–≤–∏–¥–∫—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ —á–µ—Ä–µ–∑ API (port 4000)
```

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–º—ñ–Ω:

- **–°–µ–∫—Ü—ñ–π –æ–Ω–æ–≤–ª–µ–Ω–æ:** 8
- **–°–µ–∫—Ü—ñ–π –¥–æ–¥–∞–Ω–æ:** 2 (Context & Memory Test, –ö—Ä–∏—Ç–∏—á–Ω—ñ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è)
- **–ü—Ä–∏–∫–ª–∞–¥—ñ–≤ –∫–æ–¥—É –¥–æ–¥–∞–Ω–æ:** 3
- **–ö–æ–º–∞–Ω–¥ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –¥–æ–¥–∞–Ω–æ:** 5
- **–ü–æ—Å–∏–ª–∞–Ω—å –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é –¥–æ–¥–∞–Ω–æ:** 3

---

## üéØ –ú–µ—Ç–∞ –æ–Ω–æ–≤–ª–µ–Ω—å:

### –î–ª—è GitHub Copilot:
- –ó–Ω–∞—î –ø—Ä–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—É —Å–∏—Å—Ç–µ–º—É –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
- –†–æ–∑—É–º—ñ—î –ø—Ä–∞–≤–∏–ª—å–Ω—É –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—é stage0_chat
- –ú–æ–∂–µ –¥–æ–ø–æ–º–æ–≥—Ç–∏ –∑ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–æ—é –ø—Ä–æ–±–ª–µ–º
- –ó–Ω–∞—î –ø—Ä–æ –Ω–æ–≤—ñ —Ç–µ—Å—Ç–∏ —Ç–∞ —Å–∫—Ä–∏–ø—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏

### –î–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤:
- –ß—ñ—Ç–∫—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –∑ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
- –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é
- –ü—Ä–∏–∫–ª–∞–¥–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∫–æ–¥—É
- –ö–æ–º–∞–Ω–¥–∏ –¥–ª—è —à–≤–∏–¥–∫–æ—ó –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏

---

## ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —è–∫–æ—Å—Ç—ñ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ —Ñ–∞–π–ª —ñ—Å–Ω—É—î
ls -lh .github/copilot-instructions.md

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ —î –Ω–æ–≤–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç
grep -c "FIXED 10.10.2025" .github/copilot-instructions.md
# –ú–∞—î –ø–æ–∫–∞–∑–∞—Ç–∏: 3 –∞–±–æ –±—ñ–ª—å—à–µ

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ —î —Å–µ–∫—Ü—ñ—è –ø—Ä–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è
grep -q "–ö—Ä–∏—Ç–∏—á–Ω—ñ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è" .github/copilot-instructions.md && echo "‚úÖ –°–µ–∫—Ü—ñ—è –¥–æ–¥–∞–Ω–∞"

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ —î —Ç–µ—Å—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
grep -q "test-context.sh" .github/copilot-instructions.md && echo "‚úÖ –¢–µ—Å—Ç –∑–≥–∞–¥–∞–Ω–æ"
```

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –∞–∫—Ç—É–∞–ª—ñ–∑–æ–≤–∞–Ω–æ  
**–î–∞—Ç–∞:** 10 –∂–æ–≤—Ç–Ω—è 2025  
**–í–µ—Ä—Å—ñ—è:** ATLAS v4.0

GitHub Copilot —Ç–µ–ø–µ—Ä –º–∞—î –ø–æ–≤–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É! üéâ
