# Goose Configuration Fix

**Date:** 12 –∂–æ–≤—Ç–Ω—è 2025, –≤–µ—á—ñ—Ä ~20:45  
**Status:** ‚úÖ FIXED  
**Impact:** Critical - Goose required for ATLAS task execution

---

## üéØ –ü—Ä–æ–±–ª–µ–º–∞

**–°–∏–º–ø—Ç–æ–º:**
```
[ERROR] Goose process died during startup
[ERROR] Last log lines:
  No provider configured. Run 'goose configure' first
```

**–î–µ—Ç–∞–ª—ñ:**
- Goose –∑–∞–ø—É—Å–∫–∞–≤—Å—è –∞–ª–µ –æ–¥—Ä–∞–∑—É –∫—Ä–∞—à–∏–≤—Å—è
- Provider –ù–ï –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π (–Ω–µ–º–∞—î API –∫–ª—é—á–∞)
- –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ù–ï –∑–Ω–∞–≤ —è–∫ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ Goose
- Setup script –ù–ï —Å—Ç–≤–æ—Ä—é–≤–∞–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—É –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é

---

## üîç –ö–æ—Ä—ñ–Ω—å –ø—Ä–æ–±–ª–µ–º–∏

### 1. **–í—ñ–¥—Å—É—Ç–Ω—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è**
Setup script –ø–µ—Ä–µ–≤—ñ—Ä—è–≤ —Ç—ñ–ª—å–∫–∏ —ñ—Å–Ω—É–≤–∞–Ω–Ω—è `config.yaml`, –∞–ª–µ –ù–ï –ø–µ—Ä–µ–≤—ñ—Ä—è–≤ —á–∏ provider –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π.

### 2. **–ù–µ–º–∞—î —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞**
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ—Ç—Ä–∏–º—É–≤–∞–≤ –ø–æ–º–∏–ª–∫—É, –∞–ª–µ –ù–ï –∑–Ω–∞–≤:
- –Ø–∫—ñ providers –ø—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å—Å—è
- –î–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ API –∫–ª—é—á
- –Ø–∫ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ —á–µ—Ä–µ–∑ environment variables

### 3. **–ù–µ–º–∞—î —à–≤–∏–¥–∫–æ–≥–æ —Å–ø–æ—Å–æ–±—É –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è**
–¢—ñ–ª—å–∫–∏ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π `goose configure`, —â–æ –Ω–µ –∑—Ä—É—á–Ω–æ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó.

---

## ‚úÖ –†—ñ—à–µ–Ω–Ω—è

### 1. **–ü–æ–∫—Ä–∞—â–µ–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è setup** (setup-macos.sh)

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–∏ provider –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π
if grep -q "provider:" "$HOME/.config/goose/config.yaml" 2>/dev/null; then
    log_success "Goose –≤–∂–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ"
    return 0
fi

# –°—Ç–≤–æ—Ä–∏—Ç–∏ –±–∞–∑–æ–≤–∏–π config –∑ OpenRouter
cat > "$HOME/.config/goose/config.yaml" << 'GOOSE_CONFIG'
provider: openrouter
model: openai/gpt-4o-mini

openrouter:
  api_key: ${OPENROUTER_API_KEY}
  base_url: https://openrouter.ai/api/v1
GOOSE_CONFIG

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ API –∫–ª—é—á–∞ –≤ environment
if [ -n "$OPENROUTER_API_KEY" ]; then
    log_success "‚úÖ OPENROUTER_API_KEY –∑–Ω–∞–π–¥–µ–Ω–æ"
else
    log_warn "‚ö†Ô∏è  –î–æ–¥–∞–π—Ç–µ API –∫–ª—é—á:"
    log_warn "   export OPENROUTER_API_KEY='your-key-here'"
fi
```

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä—é—î –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é
- ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º—É—î environment variables
- ‚úÖ –î–∞—î —á—ñ—Ç–∫—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É

### 2. **–®–≤–∏–¥–∫–∏–π —Å–∫—Ä–∏–ø—Ç –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó** (scripts/configure-goose.sh)

```bash
#!/bin/bash
# –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Goose –∑ –≤–∏–±–æ—Ä–æ–º provider

# 1. –°—Ç–≤–æ—Ä—é—î config.yaml
# 2. –ü–µ—Ä–µ–≤—ñ—Ä—è—î API –∫–ª—é—á—ñ
# 3. –ü—Ä–æ–ø–æ–Ω—É—î –¥–æ–¥–∞—Ç–∏ –∫–ª—é—á —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ
# 4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–Ω–æ–≤–ª—é—î ~/.zshrc
```

**–ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ:**
- ‚úÖ –í–∏–±—ñ—Ä provider (OpenRouter/OpenAI/Anthropic)
- ‚úÖ –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–µ –¥–æ–¥–∞–≤–∞–Ω–Ω—è API –∫–ª—é—á–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è shell config
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —ñ—Å–Ω—É—é—á–æ—ó –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó

### 3. **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ç—Ä—å–æ—Ö providers**

**OpenRouter (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ):**
```bash
export OPENROUTER_API_KEY='sk-or-v1-...'
# –û—Ç—Ä–∏–º–∞—Ç–∏: https://openrouter.ai/keys
# –ü–µ—Ä–µ–≤–∞–≥–∏: –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –±–∞–≥–∞—Ç—å–æ—Ö –º–æ–¥–µ–ª–µ–π, –æ–¥–∏–Ω API –∫–ª—é—á
```

**OpenAI:**
```bash
export OPENAI_API_KEY='sk-...'
# –û—Ç—Ä–∏–º–∞—Ç–∏: https://platform.openai.com/api-keys
# –ü–µ—Ä–µ–≤–∞–≥–∏: –ù–∞—Ç–∏–≤–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞, GPT-4
```

**Anthropic Claude:**
```bash
export ANTHROPIC_API_KEY='sk-ant-...'
# –û—Ç—Ä–∏–º–∞—Ç–∏: https://console.anthropic.com/
# –ü–µ—Ä–µ–≤–∞–≥–∏: Claude 3 Opus, –¥–æ–≤–≥–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
```

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:
- ‚ùå Goose –∫—Ä–∞—à–∏–≤—Å—è –±–µ–∑ provider
- ‚ùå –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ù–ï –∑–Ω–∞–≤ —è–∫ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏
- ‚ùå –ù–µ–º–∞—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—ó –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
- ‚ùå –ù–µ–º–∞—î —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π

### –ü—ñ—Å–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:
- ‚úÖ Setup –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä—é—î config
- ‚úÖ –ß—ñ—Ç–∫—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –¥–ª—è API –∫–ª—é—á–∞
- ‚úÖ –®–≤–∏–¥–∫–∏–π —Å–∫—Ä–∏–ø—Ç –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
- ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ 3 providers
- ‚úÖ Environment variables support

---

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è (—á–µ—Ä–µ–∑ setup):
```bash
# –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ API –∫–ª—é—á
export OPENROUTER_API_KEY='your-key-here'

# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ setup
./setup-macos.sh

# Setup –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç—å config
```

### –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è:
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —à–≤–∏–¥–∫–∏–π —Å–∫—Ä–∏–ø—Ç
./scripts/configure-goose.sh

# –í–∏–±—Ä–∞—Ç–∏ provider
# –í–≤–µ—Å—Ç–∏ API –∫–ª—é—á
# –ì–æ—Ç–æ–≤–æ!
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó:
```bash
# –ü–æ–∫–∞–∑–∞—Ç–∏ config
cat ~/.config/goose/config.yaml

# –¢–µ—Å—Ç Goose
goose run 'echo Hello from Goose'

# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ ATLAS
./restart_system.sh start
```

---

## üéØ –ö—Ä–∏—Ç–∏—á–Ω—ñ –ø—Ä–∞–≤–∏–ª–∞

### ‚úÖ –ó–ê–í–ñ–î–ò:
1. **–ù–∞–ª–∞—à—Ç—É–π—Ç–µ provider** –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º ATLAS
2. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ environment variables** –¥–ª—è API –∫–ª—é—á—ñ–≤ (–ù–ï hardcode!)
3. **–ü–µ—Ä–µ–≤—ñ—Ä—è–π—Ç–µ config** –ø—ñ—Å–ª—è setup: `cat ~/.config/goose/config.yaml`

### üîí –ë–ï–ó–ü–ï–ö–ê:
1. **–ù–ï –∫–æ–º—ñ—Ç—å—Ç–µ API –∫–ª—é—á—ñ** –≤ Git
2. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ .env —Ñ–∞–π–ª–∏** –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–∏—Ö –∫–ª—é—á—ñ–≤
3. **–î–æ–¥–∞–≤–∞–π—Ç–µ –¥–æ .gitignore**: `.env`, `*.key`

### üìù –†–ï–ö–û–ú–ï–ù–î–ê–¶–Ü–á:
1. **OpenRouter** - –Ω–∞–π–∫—Ä–∞—â–∏–π –≤–∏–±—ñ—Ä –¥–ª—è ATLAS (–±–∞–≥–∞—Ç–æ –º–æ–¥–µ–ª–µ–π)
2. **–î–æ–¥–∞–π—Ç–µ –∫–ª—é—á –≤ ~/.zshrc** –¥–ª—è –ø–æ—Å—Ç—ñ–π–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
3. **–¢–µ—Å—Ç—É–π—Ç–µ Goose** –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º ATLAS

---

## üìù –í–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ —Ñ–∞–π–ª–∏

1. **setup-macos.sh** - —Ñ—É–Ω–∫—Ü—ñ—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Goose (–ö–†–û–ö 14)
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è config
   - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ provider
   - –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –¥–ª—è API –∫–ª—é—á–∞

2. **scripts/configure-goose.sh** - NEW —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π —Å–∫—Ä–∏–ø—Ç
   - –í–∏–±—ñ—Ä provider
   - –î–æ–¥–∞–≤–∞–Ω–Ω—è API –∫–ª—é—á–∞
   - –û–Ω–æ–≤–ª–µ–Ω–Ω—è shell config

---

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### –Ø–∫—â–æ Goose –ù–ï –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π:

```bash
# –í–∞—Ä—ñ–∞–Ω—Ç 1: –®–≤–∏–¥–∫–∏–π —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π —Å–∫—Ä–∏–ø—Ç
./scripts/configure-goose.sh

# –í–∞—Ä—ñ–∞–Ω—Ç 2: –í—Ä—É—á–Ω—É
export OPENROUTER_API_KEY='your-key-here'
echo 'export OPENROUTER_API_KEY="your-key-here"' >> ~/.zshrc
./setup-macos.sh  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç—å config

# –í–∞—Ä—ñ–∞–Ω—Ç 3: –û—Ñ—ñ—Ü—ñ–π–Ω–∏–π Goose CLI
goose configure
```

### –ü—ñ—Å–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:

```bash
# –ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ shell
source ~/.zshrc

# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ ATLAS
./restart_system.sh start
```

---

## ‚ùì FAQ

**Q: –Ø–∫–∏–π provider –≤–∏–±—Ä–∞—Ç–∏?**  
A: OpenRouter - –ø—ñ–¥—Ç—Ä–∏–º—É—î –±–∞–≥–∞—Ç–æ –º–æ–¥–µ–ª–µ–π, –æ–¥–∏–Ω API –∫–ª—é—á, –¥–æ—Å—Ç—É–ø–Ω—ñ —Ü—ñ–Ω–∏.

**Q: –î–µ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è?**  
A: `~/.config/goose/config.yaml` - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–µ –º—ñ—Å—Ü–µ –¥–ª—è Goose.

**Q: –Ø–∫ –∑–º—ñ–Ω–∏—Ç–∏ provider?**  
A: –í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ `~/.config/goose/config.yaml` –∞–±–æ –∑–∞–ø—É—Å—Ç—ñ—Ç—å `./scripts/configure-goose.sh`

**Q: –ß–∏ –ø–æ—Ç—Ä—ñ–±–µ–Ω API –∫–ª—é—á –¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏?**  
A: –¢–∞–∫, Goose –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è task execution –≤ ATLAS.

**Q: –°–∫—ñ–ª—å–∫–∏ –∫–æ—à—Ç—É—î API?**  
A: OpenRouter: –≤—ñ–¥ $0.001 –∑–∞ 1K —Ç–æ–∫–µ–Ω—ñ–≤. OpenAI: –≤—ñ–¥ $0.01 –∑–∞ 1K —Ç–æ–∫–µ–Ω—ñ–≤.

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ Production Ready  
**–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è:** ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ –∑ OpenRouter  
**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è:** ‚úÖ –ü–æ–≤–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –≤ —Ü—å–æ–º—É —Ñ–∞–π–ª—ñ
