# Python 3.11 Setup Fix - –ö–æ—Ä–æ—Ç–∫–∏–π –ø—ñ–¥—Å—É–º–æ–∫

**–î–∞—Ç–∞:** 12 –∂–æ–≤—Ç–Ω—è 2025, –≤–µ—á—ñ—Ä ~20:30  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–ò–ü–†–ê–í–õ–ï–ù–û

---

## üéØ –ü—Ä–æ–±–ª–µ–º–∞

```
ERROR: ResolutionImpossible: Cannot install -r requirements.txt (line 22) 
and av==10.0.0 because these package versions have conflicting dependencies
```

Setup script –¥–æ–∑–≤–æ–ª—è–≤ Python 3.9+, –∞–ª–µ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –ø–æ—Ç—Ä–µ–±—É–≤–∞–ª–∏ —Å–∞–º–µ 3.11.

---

## ‚úÖ –†—ñ—à–µ–Ω–Ω—è

### 1. **–Ø–≤–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ Python 3.11** (setup-macos.sh)
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–∏ —Ü–µ 3.11.x
if [[ "$python_version" == 3.11.* ]]; then
    log_success "Python 3.11 –≤–∂–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ"
fi
```

### 2. **Smart venv management**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–¥–∞–ª—è—î —Å—Ç–∞—Ä–µ venv –∑ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ—é –≤–µ—Ä—Å—ñ—î—é
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `python3.11` —è–≤–Ω–æ

### 3. **–ü–æ–µ—Ç–∞–ø–Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è**
```bash
pip install Flask requests aiohttp  # Core
pip install torch==2.1.0  # PyTorch
pip install -r requirements.txt  # –†–µ—à—Ç–∞
```

### 4. **–í–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ** (requirements.txt)
- ‚ùå –í–∏–¥–∞–ª–µ–Ω–æ: `av==10.0.0`, `TTS`, `openai-whisper`
- ‚úÖ –î–æ–¥–∞–Ω–æ: `PyAudio==0.2.13`, –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –≤–µ—Ä—Å—ñ—ó
- ‚úÖ `torch==2.1.0` –∑–∞–º—ñ—Å—Ç—å –¥—ñ–∞–ø–∞–∑–æ–Ω—É `2.0.0-2.3.0`

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

- ‚úÖ Setup –ø–µ—Ä–µ–≤—ñ—Ä—è—î —Å–∞–º–µ Python 3.11.x
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –Ω–µ—Å—É–º—ñ—Å–Ω–æ–≥–æ venv
- ‚úÖ Fallback –º–µ—Ö–∞–Ω—ñ–∑–º –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –ø–∞–∫–µ—Ç—ñ–≤
- ‚úÖ –ë–µ–∑ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤ ResolutionImpossible

---

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–µ—Ä—Å—ñ—ó
python3 --version  # –ú–∞—î –±—É—Ç–∏ 3.11.x

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—É
./tests/test-python311-setup.sh

# –ü–æ–≤–Ω–∏–π setup
./setup-macos.sh
```

---

## üìù –í–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ —Ñ–∞–π–ª–∏

1. **setup-macos.sh** - —Ñ—É–Ω–∫—Ü—ñ—ó `install_python()` —Ç–∞ `setup_python_venv()`
2. **requirements.txt** - –≤–∏–¥–∞–ª–µ–Ω–æ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç–∏, –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –≤–µ—Ä—Å—ñ—ó
3. **tests/test-python311-setup.sh** - NEW —Ç–µ—Å—Ç–æ–≤–∏–π —Å–∫—Ä–∏–ø—Ç
4. **.github/copilot-instructions.md** - –æ–Ω–æ–≤–ª–µ–Ω–æ LAST UPDATED + –Ω–æ–≤–∏–π fix

---

## ‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–Ω–æ

**–ó–ê–í–ñ–î–ò:**
- ‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Python 3.11 (–ù–ï 3.9/3.10/3.12+)
- ‚úÖ –í–∏–¥–∞–ª—è–π—Ç–µ —Å—Ç–∞—Ä–µ venv –ø—Ä–∏ –∑–º—ñ–Ω—ñ –≤–µ—Ä—Å—ñ—ó Python
- ‚úÖ –í—Å—Ç–∞–Ω–æ–≤–ª—é–π—Ç–µ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –ø–æ–µ—Ç–∞–ø–Ω–æ

**–ù–Ü–ö–û–õ–ò:**
- ‚ùå –ù–ï –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `av` –ø–∞–∫–µ—Ç (–∫–æ–Ω—Ñ–ª—ñ–∫—Ç –∑ 3.11+)
- ‚ùå –ù–ï –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `TTS` –ø–∞–∫–µ—Ç (dependency hell)
- ‚ùå –ù–ï –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –¥—ñ–∞–ø–∞–∑–æ–Ω–∏ –≤–µ—Ä—Å—ñ–π –¥–ª—è PyTorch

---

**–î–µ—Ç–∞–ª—å–Ω–æ:** `docs/SETUP_PYTHON311_FIX_2025-10-12.md`
